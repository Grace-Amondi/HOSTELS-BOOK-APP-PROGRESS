// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/SituationAwareness/setting/FeaturelayerSource":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/dijit/Message dojo/text!./FeaturelayerSource.html dojo/_base/lang dojo/_base/array dojox/form/CheckedMultiSelect dojo/on dojo/Evented".split(" "),function(q,u,e,k,p,f,n,h,t,g,w){return q([u,e,k,w],{templateString:f,baseClass:"imt-featurelayer-source",postMixInProperties:function(){this.inherited(arguments);this.nls.common=
window.jimuNls.common},postCreate:function(){this.inherited(arguments);this._initUI()},_initUI:function(){var e=this.map.itemInfo.itemData.operationalLayers,f=[];0===e.length&&new p({message:this.nls.missingLayerInWebMap});this.weatherLayersSelect=(new t({name:"selectLayers",multiple:!0,style:"width:100%;"})).placeAt(this.selectLayers);for(var m=0;m<e.length;m++){var k=h.filter(f,function(f){return f.label===e[m].title});null!==k&&0!==k.length||this.weatherLayersSelect.addOption({label:e[m].title,
value:e[m].title})}if(this.weatherTabAdditionalLayers){var f=this.weatherTabAdditionalLayers.split(","),q=[];h.forEach(f,n.hitch(this,function(e){q.push(n.trim(e))}));this.weatherLayersSelect.set("value",q)}this.btnOk.innerText=this.nls.common.ok;this.own(g(this.btnOk,"click",n.hitch(this,function(){var e=this._getSelectedLayers();this.emit("ok",e)})));this.btnCancel.innerText=this.nls.common.cancel;this.own(g(this.btnCancel,"click",n.hitch(this,function(){this.emit("cancel")})))},_getSelectedLayers:function(){var e=
"";h.forEach(this.weatherLayersSelect.options,n.hitch(this,function(f){f.selected&&(0<e.length&&(e+=","),e+=f.value)}));return e}})})},"dojox/form/CheckedMultiSelect":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/event dojo/dom-geometry dojo/dom-class dojo/dom-construct dojo/i18n dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/Menu dijit/MenuItem dijit/Tooltip dijit/form/_FormSelectWidget dijit/form/ComboButton dojo/text!dojox/form/resources/_CheckedMultiSelectMenuItem.html dojo/text!dojox/form/resources/_CheckedMultiSelectItem.html dojo/text!dojox/form/resources/CheckedMultiSelect.html dojo/i18n!dojox/form/nls/CheckedMultiSelect dijit/form/CheckBox".split(" "),
function(q,u,e,k,p,f,n,h,t,g,w,y,x,m,v,B,r,z,A,b,c){var a=q("dojox.form._CheckedMultiSelectItem",[t,g,w],{templateString:A,baseClass:"dojoxMultiSelectItem",option:null,parent:null,disabled:!1,readOnly:!1,postMixInProperties:function(){this._type=this.parent.multiple?{type:"checkbox",baseClass:"dijitCheckBox"}:{type:"radio",baseClass:"dijitRadio"};this.disabled||(this.disabled=this.option.disabled=this.option.disabled||!1);this.readOnly||(this.readOnly=this.option.readOnly=this.option.readOnly||!1);
this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.labelNode.innerHTML=this.option.label},_changeBox:function(){this.get("disabled")||this.get("readOnly")||(this.parent.multiple?this.option.selected=this.checkBox.get("value")&&!0:this.parent.set("value",this.option.value),this.parent._updateSelection(),this.parent.focus())},_onClick:function(a){this.get("disabled")||this.get("readOnly")?k.stop(a):this.checkBox._onClick(a)},_updateBox:function(){this.checkBox.set("value",
this.option.selected)},_setDisabledAttr:function(a){this.disabled=a||this.option.disabled;this.checkBox.set("disabled",this.disabled);f.toggle(this.domNode,"dojoxMultiSelectDisabled",this.disabled)},_setReadOnlyAttr:function(a){this.checkBox.set("readOnly",a);this.readOnly=a}}),l=q("dojox.form._CheckedMultiSelectMenu",x,{multiple:!1,buildRendering:function(){this.inherited(arguments);var a=this.menuTableNode=this.domNode,d=this.domNode=n.create("div",{style:{overflowX:"hidden",overflowY:"scroll"}});
a.parentNode&&a.parentNode.replaceChild(d,a);f.remove(a,"dijitMenuTable");d.className=a.className+" dojoxCheckedMultiSelectMenu";a.className="dijitReset dijitMenuTable";a.setAttribute("role","listbox");d.setAttribute("role","presentation");d.appendChild(a)},resize:function(a){a&&(p.setMarginBox(this.domNode,a),"w"in a&&(this.menuTableNode.style.width="100%"))},onClose:function(){this.inherited(arguments);this.menuTableNode&&(this.menuTableNode.style.width="")},onItemClick:function(a,d){"undefined"==
typeof this.isShowingNow&&this._markActive();this.focusChild(a);if(a.disabled||a.readOnly)return!1;if(!this.multiple)this.onExecute();a.onClick(d)}}),d=q("dojox.form._CheckedMultiSelectMenuItem",m,{templateString:z,option:null,parent:null,iconClass:"",postMixInProperties:function(){this.parent.multiple?(this._iconClass="dojoxCheckedMultiSelectMenuCheckBoxItemIcon",this._type={type:"checkbox"}):(this._iconClass="",this._type={type:"hidden"});this.disabled=this.option.disabled;this.checked=this.option.selected;
this.label=this.option.label;this.readOnly=this.option.readOnly;this.inherited(arguments)},onChange:function(a){},_updateBox:function(){f.toggle(this.domNode,"dojoxCheckedMultiSelectMenuItemChecked",!!this.option.selected);this.domNode.setAttribute("aria-checked",this.option.selected);this.inputNode.checked=this.option.selected;this.parent.multiple||f.toggle(this.domNode,"dijitSelectSelectedOption",!!this.option.selected)},_onClick:function(a){this.disabled||this.readOnly||(this.parent.multiple?(this.option.selected=
!this.option.selected,this.parent.onChange(),this.onChange(this.option.selected)):this.option.selected||(e.forEach(this.parent.getChildren(),function(a){a.option.selected=!1}),this.option.selected=!0,this.parent.onChange(),this.onChange(this.option.selected)));this.inherited(arguments)}});return q("dojox.form.CheckedMultiSelect",B,{templateString:b,baseClass:"dojoxCheckedMultiSelect",required:!1,invalidMessage:"$_unset_$",_message:"",dropDown:!1,labelText:"",tooltipPosition:[],postMixInProperties:function(){this.inherited(arguments);
this._nlsResources=h.getLocalization("dojox.form","CheckedMultiSelect",this.lang);"$_unset_$"==this.invalidMessage&&(this.invalidMessage=this._nlsResources.invalidMessage)},_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this.value=this.options[0<=a?a:0].value}this.dropDown&&(f.toggle(this.selectNode,"dojoxCheckedMultiSelectHidden"),this.dropDownMenu=new l({id:this.id+"_menu",style:"display: none;",multiple:this.multiple,
onChange:u.hitch(this,"_updateSelection")}))},startup:function(){this.dropDown&&(this.dropDownButton=new r({label:this.labelText,dropDown:this.dropDownMenu,baseClass:"dojoxCheckedMultiSelectButton",maxHeight:this.maxHeight},this.comboButtonNode));this.inherited(arguments)},_onMouseDown:function(a){a.preventDefault()},validator:function(){return this.required?e.some(this.getOptions(),function(a){return a.selected&&null!=a.value&&0!=a.value.toString().length}):!0},validate:function(a){v.hide(this.domNode);
(a=this.isValid(a))||this.displayMessage(this.invalidMessage);return a},isValid:function(a){return this.validator()},getErrorMessage:function(a){return this.invalidMessage},displayMessage:function(a){v.hide(this.domNode);a&&v.show(a,this.domNode,this.tooltipPosition)},onAfterAddOptionItem:function(a,d){},_addOptionItem:function(b){var c;this.dropDown?(c=new d({option:b,parent:this.dropDownMenu}),this.dropDownMenu.addChild(c)):(c=new a({option:b,parent:this,disabled:this.disabled,readOnly:this.readOnly}),
this.wrapperDiv.appendChild(c.domNode));this.onAfterAddOptionItem(c,b)},_refreshState:function(){this.validate(this.focused)},onChange:function(a){this._refreshState()},reset:function(){this.inherited(arguments);v.hide(this.domNode)},_updateSelection:function(){this.inherited(arguments);this._handleOnChange(this.value);e.forEach(this._getChildren(),function(a){a._updateBox()});n.empty(this.containerNode);var a=this;e.forEach(this.value,function(d){d=n.create("option",{value:d,label:d,selected:"selected"});
n.place(d,a.containerNode)});if(this.dropDown&&this.dropDownButton){var d=0,b="";e.forEach(this.options,function(a){a.selected&&(d++,b=a.label)});this.dropDownButton.set("label",this.multiple?u.replace(this._nlsResources.multiSelectLabelText,{num:d}):b)}},_getChildren:function(){return this.dropDown?this.dropDownMenu.getChildren():e.map(this.wrapperDiv.childNodes,function(a){return y.byNode(a)})},invertSelection:function(a){this.multiple&&(e.forEach(this.options,function(a){a.selected=!a.selected}),
this._updateSelection())},_setDisabledAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDownButton.set("disabled",a);e.forEach(this._getChildren(),function(d){d&&d.set&&d.set("disabled",a)})},_setReadOnlyAttr:function(a){this.inherited(arguments);"readOnly"in this.attributeMap&&this[this.attributeMap.readOnly].setAttribute("readonly",a);this.readOnly=a;e.forEach(this._getChildren(),function(d){d&&d.set&&d.set("readOnly",a)})},uninitialize:function(){v.hide(this.domNode);e.forEach(this._getChildren(),
function(a){a.destroyRecursive()});this.inherited(arguments)}})})},"widgets/SituationAwareness/setting/FieldPicker":function(){define("dojo/_base/declare dijit/_WidgetsInTemplateMixin dijit/form/Select dijit/form/ValidationTextBox dijit/registry dojo/dom-construct dojo/_base/array dojo/_base/lang dojo/_base/html dojo/dom-style dojo/dom-class dojo/Deferred dojo/on dojo/query jimu/BaseWidget jimu/dijit/Message jimu/utils esri/layers/FeatureLayer dojo/text!./FieldPicker.html dojo/Evented jimu/dijit/SimpleTable".split(" "),
function(q,u,e,k,p,f,n,h,t,g,w,y,x,m,v,B,r,z,A,b,c){return q([v,u,b],{templateString:A,baseClass:"jimu-widget-SAT-setting",advStat:{},fieldsList:null,callerLayer:null,callerTab:null,callerOpLayers:null,layerList:null,test:!1,fields:null,hasFields:!0,constructor:function(a){this.map=a.map;a.test&&(this.test=a.test)},postMixInProperties:function(){this.inherited(arguments);this.nls.common=window.jimuNls.common},postCreate:function(){this.inherited(arguments);this.startup()},startup:function(){var a=
null;this.test||(a="summary"===this.callerTab.type?[{name:"layer",title:this.nls.fieldTitle,"class":"label",type:"empty",width:"250px"},{name:"label",title:this.nls.layerLabel,"class":"label",type:"empty",width:"200px"},{name:"type",title:this.nls.typeTitle,"class":"sumlabel",type:"empty"},{name:"actions",title:this.nls.actionsTitle,"class":"actions",type:"actions",actions:["up","down","delete"]}]:"groupedSummary"===this.callerTab.type?[{name:"layer",title:this.nls.groupByField,"class":"label",type:"empty",
width:"40%"},{name:"label",title:this.nls.layerLabel,"class":"label",type:"empty",width:"20%"},{name:"type",title:this.nls.labelType,"class":"label",type:"empty",width:"20%"}]:[{name:"layer",title:this.nls.fieldTitle,"class":"label",type:"empty",width:"60%"},{name:"actions",title:this.nls.actionsTitle,"class":"actions",type:"actions",actions:["up","down","delete"],width:"40%"}],this.displayFieldsTable=new c({fields:a}),this.displayFieldsTable.placeAt(this.fieldTable),t.setStyle(this.displayFieldsTable.domNode,
{height:"100%"}),this.displayFieldsTable.startup(),this.operationsList=[],"summary"===this.callerTab.type?this.operationsList.push({value:"sum",label:this.nls.sum},{value:"avg",label:this.nls.avg},{value:"min",label:this.nls.min},{value:"max",label:this.nls.max}):"groupedSummary"===this.callerTab.type&&this.operationsList.push({value:"pre",label:this.nls.prefix},{value:"suf",label:this.nls.suffix}),"summary"===this.callerTab.type?(g.set(this.chk_summary,"display","block"),g.set(this.chk_summaryLabels,
"display","block"),g.set(this.chk_countOnly,"display","none")):(g.set(this.chk_countOnly,"display","block"),g.set(this.chk_summary,"display","none"),g.set(this.chk_summaryLabels,"display","none")),this.btnCancel.innerText=this.nls.common.cancel,this.own(x(this.btnCancel,"click",h.hitch(this,function(){this.emit("cancel")}))),this.btnOk.innerText=this.nls.common.ok,this.own(x(this.btnOk,"click",h.hitch(this,function(){if(!w.contains(this.btnOk,"jimu-state-disabled")){this.updateSummaryType();var a=
!1,d;for(d in this.advStat.stats)this.advStat.stats.hasOwnProperty(d)&&(a=!0);a||(this.advStat=null);this.emit("ok",this.advStat)}}))),this.layerTables=[],this.summaryLayers=[],this.advStat={},this._getAllValidLayers().then(h.hitch(this,function(){"groupedSummary"===this.callerTab.type?(g.set(this.btnAddField,"display","none"),this.hasFields&&this._addTabRow()):this.hasFields&&(this.addHandler=this.own(x(this.btnAddField,"click",h.hitch(this,this._addTabRow))),this.own(x(this.displayFieldsTable,"row-delete",
h.hitch(this,this._rowDeleted))))})))},_updateGeomOptions:function(a){a&&(this.chk_area.set("disabled","esriGeometryPolygon"!==a),this.chk_length.set("disabled","esriGeometryPolyline"!==a))},_getAllValidLayers:function(a){var b=new y;n.forEach(this.callerOpLayers,h.hitch(this,function(a){0<a.newSubLayers.length?this._recurseOpLayers(a.newSubLayers):a.id===this.callerLayer&&(this.layerList=a)}));if(this.layerList.layerObject.empty){var d=new z(this.layerList.layerObject.url);x(d,"load",h.hitch(this,
function(){this._completeMapLayers(d,a);b.resolve("sucess")}))}else this._completeMapLayers(this.layerList,a),b.resolve("sucess");return b},_recurseOpLayers:function(a){n.forEach(a,h.hitch(this,function(a){0<a.newSubLayers.length?this._recurseOpLayers(a.newSubLayers):a.id===this.callerLayer&&(this.layerList=a)}))},_completeMapLayers:function(a,b){if(a){var d="undefined"===typeof a.layerObject?a:a.layerObject,c=d.geometryType;this.objectIdField=d.objectIdField;var l={url:d.url,stats:{}},e=h.clone(d.fields),
f=this.getSkipFields(d),g=[];n.forEach(e,function(a){-1===f.indexOf(a.name)&&g.push(a)});this.fields=g;this.popUpFields=this._getPopupFields(d);this.advStat=l;if("undefined"===typeof b){this._updateGeomOptions(c);if(this.advStat.url){if("undefined"!==typeof this.callerTab.advStat&&this.callerTab.advStat){this.callerTab.advStat.stats?this._setFields(g):this._setFields(g,!0);var d=this.callerTab.advStat.stats,k;for(k in d)"count"===k?(this.chk_count.set("value",!0),this.featureCountLabel.set("value",
d[k][0].label)):"area"===k?(this.chk_area.set("value",!0),this.featureAreaLabel.set("value",d[k][0].label)):"length"===k?(this.chk_length.set("value",!0),this.featureLengthLabel.set("value",d[k][0].label)):"tabCount"===k?this.chk_count_only.set("value",d[k]):n.forEach(d[k],h.hitch(this,function(a){this._populateTabTableRow(k,a)}))}else this._setFields(g,!0);d=this.callerTab.advStat;if(!d||"undefined"!==typeof d&&!d.hasOwnProperty("stats"))if(d=0<this.popUpFields.length,c=this.fieldsList.length,"groupedSummary"===
this.callerTab.type&&(c=1,d||this._setFields(g)),0<c){var l="summary"===this.callerTab.type?21:4,m=e=0;a:for(;m<c;m++){var q=!1,p=this.fieldsList[m];if(d){var t=this.popUpFields[m],r=0;b:for(;r<this.fieldsList.length;r++)if(p=this.fieldsList[r],p.value===t){q=!0;break b}}if(q)if(e+=1,e<l)this._addTabRow(p);else break a}}else w.add(this.btnAddField,"btn-add-disabled"),this.hasFields=!1}("groupedSummary"===this.callerTab.type&&0<this.popUpFields.length||"groupedSummary"!==this.callerTab.type)&&this._setFields(g)}}},
_validatePopupFields:function(){var a=new y;this._getAllValidLayers(!0).then(h.hitch(this,function(){for(var b=[],d=0;d<this.popUpFields.length;d++){var c=this.popUpFields[d],e=0;a:for(;e<this.fields.length;e++){var f=this.fields[e];if(c===f.name){b.push(f);break a}}}this.callerTab.type="summary";this._setFields(b);d=0<this.fieldsList.length;this._setFields(this.fields);a.resolve({layer:this.callerLayer,hasPopupFields:0<b.length,hasFields:0<this.fields.length,hasSummaryPopupFields:d,hasSummaryFields:0<
this.fieldsList.length,popUpFields:b,validSummaryFields:this.fieldsList,advStat:this.advStat})}));return a},_getPopupFields:function(a){var b=this.getSkipFields(a),d,c=[];this.objectIdField=a.objectIdField;if(a.infoTemplate)d=a.infoTemplate.info.fieldInfos;else if(a.url&&-1<a.url.indexOf("MapServer")){a=a.url.split("MapServer/")[1];var e=this.map.itemInfo.itemData.operationalLayers;d=null;for(var f=0;f<e.length;f++){var g=e[f];if(g.layerObject&&g.layerObject.infoTemplates&&(g=g.layerObject.infoTemplates[a])){d=
g.infoTemplate.info.fieldInfos;break}}}if(d)for(a=0;a<d.length;a++)(e=d[a])&&e.visible&&-1===b.indexOf(e.fieldName)&&c.push(e.fieldName);return c},checkStringWidth:function(a){var b=f.create("div",{"class":"visDivLength",id:"SA_VisDiv",innerHTML:a},this.domNode);a=220>b.clientWidth?!0:!1;f.destroy(b);var d=a,c=p.byNode(this.domNode).id;m(".validationBox").forEach(function(a){a=p.byNode(a);c!==a.id&&(d=d?"Error"!==a.state:d)});(b=m(".field-picker-footer")[0])&&(d?t.removeClass(b.children[0],"jimu-state-disabled"):
t.addClass(b.children[0],"jimu-state-disabled"));return a},_setFields:function(a,b){var d=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeDouble"];"summary"!==this.callerTab.type&&(d.push("esriFieldTypeString"),d.push("esriFieldTypeDate"));var c=[],l=[];n.forEach(a,h.hitch(this,function(a){-1<d.indexOf(a.type)&&(b&&this.popUpFields&&-1<this.popUpFields.indexOf(a.name)&&l.push(a.name),c.push({label:a.alias,value:a.name}))}));1>c.length?(w.add(this.btnAddField,"btn-add-disabled"),
this.hasFields=!1):this.test||(g.set(this.displayFieldsTable.domNode,"display","block"),g.set(this.btnAddField,"display","inline-block"));l.length!==this.popUpFields.length&&(this.popUpFields=l);this.fieldsList=h.clone(c)},_populateTabTableRow:function(a,b){var d=this.displayFieldsTable.addRow({});d.success&&d.tr&&(d=d.tr,this._addTabFields(d),this._addTabTypes(d),this._addTabLabel(d),d.selectFields.set("value",b.expression),"summary"===this.callerTab.type||"groupedSummary"===this.callerTab.type)&&
(d.labelText.set("value",b.label),d.selectTypes.set("value",a))},_addTabRow:function(a){var b=this.displayFieldsTable.getRows().length;"summary"!==this.callerTab.type&&3<=b?new B({message:this.nls.max_records}):"groupedSummary"===this.callerTab.type&&0<b||(b=this.displayFieldsTable.addRow({}),b.success&&b.tr&&(b=b.tr,this._addTabFields(b),this._addTabTypes(b),this._addTabLabel(b),a&&b.selectFields.set("value",a.value)))},_addTabFields:function(a){var b=h.clone(this.fieldsList),d=m(".simple-table-cell",
a)[0];d&&(b=new e({style:{height:"24px",width:"100%"},"class":"summary"===this.callerTab.type?"shortSelect":"longSelect",options:b}),b.placeAt(d),b.startup(),a.selectFields=b)},_addTabLabel:function(a){if("summary"===this.callerTab.type||"groupedSummary"===this.callerTab.type){var b=m(".simple-table-cell",a)[1],d=new k({style:{width:"100%",height:"24px"},"class":"validationBox"});d.invalidMessage=this.nls.invalid_string_width;d.placeAt(b);d.startup();d.validator=this.checkStringWidth;a.labelText=
d}},_addTabTypes:function(a){if("summary"===this.callerTab.type||"groupedSummary"===this.callerTab.type){var b=h.clone(this.operationsList),d=m(".simple-table-cell",a)[2];d&&(b=new e({style:{width:"100%",height:"24px"},options:b}),b.placeAt(d),b.startup(),a.selectTypes=b)}},getSkipFields:function(a){var b=[];if(a.fields)for(var d=0;d<a.fields.length;d++){var c=a.fields[d];c&&c.type&&c.name&&"esriFieldTypeGeometry"===c.type&&b.push(c.name)}a.globalIdField&&""!==a.globalIdField&&b.push(a.globalIdField);
a.objectIdField&&""!==a.objectIdField&&b.push(a.objectIdField);return b},updateSummaryType:function(){var a=this.displayFieldsTable.getRows();if("summary"!==this.callerTab.type&&"groupedSummary"!==this.callerTab.type){var b=[];n.forEach(a,function(a){b.push({value:0,expression:a.selectFields.value,label:a.selectFields.value})});0<b.length&&(this.advStat.stats.outFields=b);this.advStat.stats.tabCount=this.chk_count_only.checked}else this.advStat.stats.tabCount="groupedSummary"===this.callerTab.type?
this.chk_count_only.checked:this.chk_count.checked,this.chk_count.checked&&(this.advStat.stats.count=[{value:0,expression:this.objectIdField,label:r.stripHTML(this.featureCountLabel.value?this.featureCountLabel.value:this.nls.count)}]),this.chk_area.checked&&(this.advStat.stats.area=[{value:0,expression:this.objectIdField,label:r.stripHTML(this.featureAreaLabel.value?this.featureAreaLabel.value:this.nls.area)}]),this.chk_length.checked&&(this.advStat.stats.length=[{value:0,expression:this.objectIdField,
label:r.stripHTML(this.featureLengthLabel.value?this.featureLengthLabel.value:this.nls.length)}]),n.forEach(a,h.hitch(this,function(a){"undefined"===typeof this.advStat.stats[a.selectTypes.value]&&(this.advStat.stats[a.selectTypes.value]=[]);var b={value:0};b.expression=a.selectFields.value;for(var c=0;c<a.selectFields.options.length;c++)if(a.selectFields.options[c].value===a.selectFields.value){b.label="groupedSummary"!==this.callerTab.type?a.labelText.value?a.labelText.value:a.selectFields.options[c].label:
a.labelText.value;break}"undefined"===typeof b.label&&(b.label=b.expression);this.advStat.stats[a.selectTypes.value].push(b)}));console.log("ADVSTAT",this.advStat)},chkCountChanged:function(a){"summary"===this.callerTab.type&&this.updateLabel(this.featureCountLabel,a)},chkAreaChanged:function(a){this.updateLabel(this.featureAreaLabel,a)},chkLengthChanged:function(a){this.updateLabel(this.featureLengthLabel,a)},updateLabel:function(a,b){a.set("disabled",!b);a.validator=this.checkStringWidth;a.invalidMessage=
this.nls.invalid_string_width;if(b&&""===a.value){var c="";a.id===this.featureCountLabel.id?c=this.nls.count:a.id===this.featureAreaLabel.id?c=this.nls.area:a.id===this.featureLengthLabel.id&&(c=this.nls.length);a.set("value",c)}this.validateAll()},validateAll:function(){var a=!0;m(".validationBox").forEach(function(b){b=p.byNode(b);a=a?"Error"!==b.state:a});var b=m(".field-picker-footer")[0];b&&(a?t.removeClass(b.children[0],"jimu-state-disabled"):t.addClass(b.children[0],"jimu-state-disabled"))},
_rowDeleted:function(){this.validateAll()},destroy:function(){this.advStat=null}})})},"widgets/SituationAwareness/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/SituationAwareness/setting/FeaturelayerSource.html":'\x3cdiv\x3e\r\n  \x3cdiv\x3e\r\n    \x3cspan class\x3d"label"\x3e${nls.selectLayers}: \x3c/span\x3e\r\n    \x3cdiv class\x3d"layerSelect" data-dojo-attach-point\x3d"selectLayers"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"footer"\x3e\r\n      \x3cdiv class\x3d"jimu-btn ok" data-dojo-attach-point\x3d"btnOk"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"jimu-btn cancel" data-dojo-attach-point\x3d"btnCancel"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/form/resources/_CheckedMultiSelectMenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" dojoAttachPoint\x3d"focusNode" role\x3d"menuitemcheckbox" tabIndex\x3d"-1"\r\n\tdojoAttachEvent\x3d"ondijitclick:_onClick"\r\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\r\n\t\t\x3e\x3cdiv src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitMenuItemIcon ${_iconClass}" dojoAttachPoint\x3d"iconNode"\r\n\t\t\t\x3e\x3cinput class\x3d"dojoxCheckedMultiSelectCheckBoxInput" dojoAttachPoint\x3d"inputNode" type\x3d"${_type.type}"\r\n\t\t/\x3e\x3c/div\x3e\x3c/td\r\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" dojoAttachPoint\x3d"containerNode,labelNode"\x3e\x3c/td\r\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" dojoAttachPoint\x3d"accelKeyNode"\x3e\x3c/td\r\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\x26nbsp;\x3c/td\r\n\x3e\x3c/tr\x3e',
"url:dojox/form/resources/_CheckedMultiSelectItem.html":'\x3cdiv class\x3d"dijitReset ${baseClass}"\r\n\t\x3e\x3cinput class\x3d"${baseClass}Box" data-dojo-type\x3d"dijit.form.CheckBox" data-dojo-attach-point\x3d"checkBox" \r\n\t\tdata-dojo-attach-event\x3d"_onClick:_changeBox" type\x3d"${_type.type}" data-dojo-props\x3d\'disabled:${disabled}, readOnly:${readOnly}\' baseClass\x3d"${_type.baseClass}"\r\n\t/\x3e\x3cdiv class\x3d"dijitInline ${baseClass}Label" data-dojo-attach-point\x3d"labelNode" data-dojo-attach-event\x3d"onclick:_onClick"\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"url:dojox/form/resources/CheckedMultiSelect.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"comboButtonNode"\r\n\t\x3e\x3c/div\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"selectNode" class\x3d"dijit dijitReset dijitInline ${baseClass}Wrapper" data-dojo-attach-event\x3d"onmousedown:_onMouseDown,onclick:focus"\r\n\t\t\x3e\x3cselect class\x3d"${baseClass}Select dojoxCheckedMultiSelectHidden" multiple\x3d"true" data-dojo-attach-point\x3d"containerNode,focusNode"\x3e\x3c/select\r\n\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"wrapperDiv"\x3e\x3c/div\r\n\t\x3e\x3c/div\r\n\x3e\x3c/div\x3e',
"url:widgets/SituationAwareness/setting/FieldPicker.html":'\x3cdiv class\x3d"field-picker-main"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"tableArea" class\x3d"tableArea"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"btnAddField" class\x3d"btn-add-section enable"\x3e\r\n      \x3cspan class\x3d"btn-add-icon"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"btn-add-label" data-dojo-attach-point\x3d"divLayerTitle"\x3e${nls.addField}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"fieldTable"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"jimu-r-row pad-top20" data-dojo-attach-point\x3d"chk_countOnly"\x3e\r\n    \x3cdiv class\x3d"col-1-3" data-dojo-attach-point\x3d"div_chkCount"\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"chk_count_only" title\x3d"${nls.count_checkBox}"\r\n             data-dojo-attach-event\x3d"onChange:chkCountChanged" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n      \x3cspan class\x3d"label"\x3e${nls.count_checkBox}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"jimu-r-row pad-top20" data-dojo-attach-point\x3d"chk_summary"\x3e\r\n    \x3cdiv class\x3d"col-1-3" data-dojo-attach-point\x3d"div_chkCount"\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"chk_count" title\x3d"${nls.count_checkBox}" \r\n             data-dojo-attach-event\x3d"onChange:chkCountChanged" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n      \x3cspan class\x3d"label"\x3e${nls.count_checkBox}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"col-1-3" data-dojo-attach-point\x3d"div_chkArea"\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"chk_area" title\x3d"${nls.area_checkBox}" \r\n             data-dojo-attach-event\x3d"onChange:chkAreaChanged" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n      \x3cspan class\x3d"label"\x3e${nls.area_checkBox}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"col-1-3" data-dojo-attach-point\x3d"div_chkLength"\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"chk_length" title\x3d"${nls.length_checkBox}" \r\n             data-dojo-attach-event\x3d"onChange:chkLengthChanged" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n      \x3cspan class\x3d"label"\x3e${nls.length_checkBox}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"jimu-r-row pad-top20" data-dojo-attach-point\x3d"chk_summaryLabels"\x3e\r\n    \x3cdiv class\x3d"col-1-3" data-dojo-attach-point\x3d"div_chkCountLabel"\x3e\r\n      \x3cspan class\x3d"label"\x3e ${nls.count_label}:\x3c/span\x3e\r\n      \x3cinput class\x3d"validationBox" data-dojo-attach-point\x3d"featureCountLabel" data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n             disabled\x3d"disabled" title\x3d"${nls.count_label}" /\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"col-1-3" data-dojo-attach-point\x3d"div_chkAreaLabel"\x3e\r\n      \x3cspan class\x3d"label"\x3e ${nls.area_label}:\x3c/span\x3e\r\n      \x3cinput class\x3d"validationBox" data-dojo-attach-point\x3d"featureAreaLabel" data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n             disabled\x3d"disabled" title\x3d"${nls.area_label}" /\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"col-1-3" data-dojo-attach-point\x3d"div_chkLengthLabel"\x3e\r\n      \x3cspan class\x3d"label"\x3e ${nls.length_label}:\x3c/span\x3e\r\n      \x3cinput class\x3d"validationBox" data-dojo-attach-point\x3d"featureLengthLabel" data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n             disabled\x3d"disabled" title\x3d"${nls.length_label}" /\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field-picker-footer"\x3e\r\n    \x3cdiv class\x3d"jimu-btn ok" data-dojo-attach-point\x3d"btnOk"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-btn cancel" data-dojo-attach-point\x3d"btnCancel"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SituationAwareness/setting/Setting.html":'\x3cdiv class\x3d"main-section"\x3e\r\n  \x3c!-- Tabs --\x3e\r\n  \x3cdiv class\x3d"jimu-r-row"\x3e\r\n    \x3cdiv class\x3d"jimu-r-row"\x3e\r\n      \x3cdiv class\x3d"label tabs-section-Label"\x3e\r\n        ${nls.tabs_section_Label}\r\n      \x3c/div\x3e\r\n      \x3chr /\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"btnAddTab" class\x3d"btn-add-section enable"\x3e\r\n      \x3cspan class\x3d"btn-add-icon"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"btn-add-label"\x3e${nls.addTab}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"tabTable" data-dojo-type\x3d"jimu/dijit/SimpleTable" data-dojo-props\x3d\'fields:[{name:"layer",title:"${nls.layerName}","class":"label",type:"empty",width:"400px"},{name:"type",title:"${nls.layerType}","class":"label",type:"empty"},{name:"label",title:"${nls.layerLabel}","class":"label",type:"empty"},{name:"actions",title:"${nls.actions}","class":"actions",type:"actions",actions:["up","down","edit","delete"],width:"80px"}]\'\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3c!-- General Settings: Distances --\x3e\r\n  \x3cdiv class\x3d"jimu-r-row"\x3e\r\n    \x3cdiv class\x3d"label general-setting-Label"\x3e\r\n      ${nls.general_setting_Label}\r\n    \x3c/div\x3e\r\n    \x3chr /\x3e\r\n\r\n    \x3cdiv class\x3d"jimu-r-row pad-row15"\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cspan class\x3d"label"\x3e${nls.incident_label}: \x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cspan class\x3d"label"\x3e${nls.locate_incident_label}: \x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-r-row pad-row0"\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cinput data-dojo-attach-point\x3d"incident_label" title\x3d"${nls.incident_label}" \r\n               class\x3d"validationBox2" data-dojo-type\x3d"dijit/form/ValidationTextBox" /\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cinput data-dojo-attach-point\x3d"locate_incident_label" title\x3d"${nls.locate_incident_label}" \r\n               class\x3d"validationBox2" data-dojo-type\x3d"dijit/form/ValidationTextBox" /\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"jimu-r-row pad-row15"\x3e\r\n      \x3cdiv class\x3d"col-1-4"\x3e\r\n        \x3cspan class\x3d"label"\x3e${nls.units_text_lbl}: \x3c/span\x3e\r\n        \x3cselect data-dojo-attach-point\x3d"selectUnits" class\x3d"selectUnits" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n        \x3c/select\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-4 settingAlign"\x3e\r\n        \x3cinput data-dojo-attach-point\x3d"chk_routing" title\x3d"${nls.routing_checkBox}" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n        \x3cspan class\x3d"label"\x3e${nls.routing_checkBox}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-2-4"\x3e\r\n        \x3cspan class\x3d"label"\x3e${nls.maximum_distance_lbl}: \x3c/span\x3e\r\n        \x3cinput data-dojo-attach-point\x3d"txt_maximumDistance" class\x3d"maximum-distance-lbl" title\x3d"${nls.maximum_distance_lbl}" data-dojo-type\x3d"dijit/form/NumberTextBox" /\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-r-row pad-row15"\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cspan class\x3d"label"\x3e${nls.buffer_text_lbl}: \x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cspan class\x3d"label"\x3e${nls.buffer_min_lbl}: \x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cspan class\x3d"label"\x3e${nls.buffer_max_lbl}: \x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-r-row pad-row0"\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cinput data-dojo-attach-point\x3d"buffer_lbl" title\x3d"${nls.buffer_text_lbl}" class\x3d"validationBox2" data-dojo-type\x3d"dijit/form/ValidationTextBox" /\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cinput data-dojo-attach-point\x3d"buffer_min" title\x3d"${nls.buffer_min_lbl}" data-dojo-type\x3d"dijit/form/NumberTextBox" /\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cinput data-dojo-attach-point\x3d"buffer_max" title\x3d"${nls.buffer_max_lbl}" data-dojo-type\x3d"dijit/form/NumberTextBox" /\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cbr /\x3e\r\n  \x3c!-- Weather Settings --\x3e\r\n  \x3cdiv class\x3d"jimu-r-row" data-dojo-attach-point\x3d"div_special_tab"\x3e\r\n    \x3cdiv class\x3d"label general-setting-Label"\x3e\r\n      ${nls.weather_Label}\r\n    \x3c/div\x3e\r\n    \x3chr /\x3e\r\n    \x3cdiv class\x3d"jimu-r-row pad-row15"\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"chk_weather" title\x3d"${nls.weather_checkBox}" /\x3e\r\n        \x3cspan class\x3d"label"\x3e${nls.weather_checkBox}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"chk_celsius"/\x3e\r\n        \x3cspan class\x3d"label" data-dojo-attach-point\x3d"chk_celsius_label"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-3"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"btnSource" class\x3d\'jimu-btn\' data-dojo-attach-event\x3d"onclick:_onBtnSelectLayersClicked"\x3e\r\n          ${nls.selectLayers}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"currentlySelectedLayer"\x3e\r\n      \x3cspan class\x3d"label"\x3e${nls.currentlySelectedLayer}:\x3c/span\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"currentlySelectedLayer" class\x3d"label"\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3c!-- Save Options--\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"div_special_tab" class\x3d"jimu-r-row"\x3e\r\n    \x3cdiv class\x3d"jimu-r-row"\x3e\r\n      \x3cdiv class\x3d"label general-setting-Label"\x3e\r\n        ${nls.save_label}\r\n      \x3c/div\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv class\x3d"jimu-r-row pad-row15"\x3e\r\n        \x3cinput data-dojo-attach-point\x3d"chk_save" title\x3d"${nls.save_checkbox}" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n        \x3cspan class\x3d"label"\x3e${nls.save_checkbox}\x3c/span\x3e\r\n        \x3cdiv class\x3d"jimu-r-row div_edit_options pad-row15" data-dojo-attach-point\x3d"editOptions"\x3e\r\n          \x3ctable\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd class\x3d"td-padding"\x3e\r\n                \x3cinput data-dojo-attach-point\x3d"chk_point_save" title\x3d"${nls.save_point_checkbox}" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n                \x3cspan class\x3d"label"\x3e${nls.save_point_checkbox}\x3c/span\x3e\r\n              \x3c/td\x3e\r\n              \x3ctd class\x3d"td-padding"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"div_selectPointSaveLayer"\x3e\r\n                  \x3cselect class\x3d"select-width" data-dojo-attach-point\x3d"selectPointSaveLayer" data-dojo-type\x3d"dijit/form/Select"\x3e\x3c/select\x3e\r\n                \x3c/div\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd class\x3d"td-padding"\x3e\r\n                \x3cinput data-dojo-attach-point\x3d"chk_line_save" title\x3d"${nls.save_line_checkbox}" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n                \x3cspan class\x3d"label"\x3e${nls.save_line_checkbox}\x3c/span\x3e\r\n              \x3c/td\x3e\r\n              \x3ctd class\x3d"td-padding"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"div_selectLineSaveLayer"\x3e\r\n                  \x3cselect class\x3d"select-width" data-dojo-attach-point\x3d"selectLineSaveLayer" data-dojo-type\x3d"dijit/form/Select"\x3e\x3c/select\x3e\r\n                \x3c/div\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd class\x3d"td-padding"\x3e\r\n                \x3cinput data-dojo-attach-point\x3d"chk_poly_save" title\x3d"${nls.save_poly_checkbox}" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n                \x3cspan class\x3d"label"\x3e${nls.save_poly_checkbox}\x3c/span\x3e\r\n              \x3c/td\x3e\r\n              \x3ctd class\x3d"td-padding"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"div_selectPolySaveLayer"\x3e\r\n                  \x3cselect class\x3d"select-width" data-dojo-attach-point\x3d"selectPolySaveLayer" data-dojo-type\x3d"dijit/form/Select"\x3e\x3c/select\x3e\r\n                \x3c/div\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n          \x3c/table\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3c!-- CSV Options--\x3e\r\n  \x3cdiv class\x3d"jimu-r-row" data-dojo-attach-point\x3d"div_CSV_tab"\x3e\r\n    \x3cdiv\x3e\r\n      \x3cdiv class\x3d"label general-setting-Label"\x3e\r\n        ${nls.csv_label}\r\n      \x3c/div\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv class\x3d"pad-row15"\x3e\r\n        \x3cinput data-dojo-attach-point\x3d"chk_csv" title\x3d"${nls.csv_checkbox}" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n        \x3cspan class\x3d"label"\x3e${nls.csv_checkbox}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3c!-- Display Options--\x3e\r\n  \x3cdiv class\x3d"jimu-r-row" data-dojo-attach-point\x3d"div_special_tab"\x3e\r\n    \x3cdiv class\x3d"label general-setting-Label"\x3e\r\n      ${nls.display_label}\r\n    \x3c/div\x3e\r\n    \x3chr /\x3e\r\n    \x3cdiv class\x3d"chk_display"\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"chk_display" title\x3d"${nls.display_checkbox}" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n      \x3cspan class\x3d"label display-checkbox"\x3e${nls.display_checkbox}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3c!-- Snapshot Options--\x3e\r\n  \x3cdiv class\x3d"jimu-r-row" data-dojo-attach-point\x3d"div_snapshot_tab"\x3e\r\n    \x3cdiv class\x3d"label general-setting-Label"\x3e\r\n      ${nls.snapshot_label}\r\n    \x3c/div\x3e\r\n    \x3chr /\x3e\r\n    \x3cdiv class\x3d"chk_snapshot"\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"chk_snapshot" title\x3d"${nls.snapshot_checkbox}" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n      \x3cspan class\x3d"label snapshot-checkbox"\x3e${nls.snapshot_checkbox}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SituationAwareness/setting/css/style.css":'.jimu-widget-SAT-setting .main-section {width: 100%; height: 100%;}.jimu-widget-SAT-setting .tabs-section-Label {font-weight: bold;}.jimu-widget-SAT-setting .general-setting-Label {padding-top: 15px; font-weight: bold;}.jimu-widget-SAT-setting .currentlySelectedLayer {padding-top: 15px; padding-left:15px;}.jimu-widget-SAT-setting .pad-row15 {padding-top: 15px;}.jimu-widget-SAT-setting .pad-row0 {padding-top: 0px;}.jimu-widget-SAT-setting .selectUnits {margin-left: 10px;}.jimu-widget-SAT-setting .chk_display {padding-top: 15px; padding-bottom: 15px;}.jimu-widget-SAT-setting .display-checkbox {padding-bottom: 15px;}.jimu-widget-SAT-setting .chk_snapshot {padding-top: 15px; padding-bottom: 15px;}.jimu-widget-SAT-setting .snapshot-checkbox {padding-bottom: 15px;}.jimu-widget-SAT-setting .maximum-distance-lbl {width: 60px;}.jimu-widget-SAT-setting .btn-add-section {display: inline-block; overflow: hidden; height: 24px; margin-left: 1px; margin-bottom: 3px; cursor: pointer; font-size: 13px; color: #538ec8; margin-top: 8px;}.jimu-widget-SAT-setting .btn-add-disabled {opacity: .6; cursor: default;}.jimu-widget-SAT .validationBox {}.jimu-widget-SAT .validationBox2 {}.jimu-widget-SAT-setting .btn-add-section .btn-add-icon {height: 100%; width: 14px; background-repeat: no-repeat; background-position: center center; background-image: url(images/add.png); display: inline-block; vertical-align: top;}.jimu-widget-SAT-setting .btn-add-section .btn-add-label {height: 100%; line-height: 24px; margin-left: 7px; text-decoration: underline; display: inline-block; vertical-align: top;}.jimu-widget-SAT-setting .settingAlign{padding-top: 4px; margin-left: 80px;}.jimu-rtl .jimu-widget-SAT-setting .settingAlign{padding-top: 4px; margin-right: 80px;}.jimu-widget-SAT-setting .claro .dojoxCheckedMultiSelect .dojoxCheckedMultiSelectWrapper {border: none !important; background-color: transparent !important;}.jimu-widget-SAT-setting .footer {text-align: right;}.jimu-widget-SAT-setting .field-picker-footer {text-align: right;}.jimu-widget-SAT-setting .removeButtonWithIcon {background-image: url("../images/filterdialog_icons.png"); background-repeat: no-repeat; background-position: -30px 0; width: 15px; height: 15px; margin: 0px 0px; display: block;}.jimu-widget-SAT-setting .upButton {background-image: url("../../../../jimu.js/css/images/up_enabled.png"); background-repeat: no-repeat; width: 15px; height: 15px; margin: 0px 0px; display: block;}.jimu-widget-SAT-setting .downButton {background-image: url("../../../../jimu.js/css/images/down_enabled.png"); background-repeat: no-repeat; width: 15px; height: 15px; margin: 0px 0px; display: block;}.jimu-widget-SAT-setting .colorButton {width: 15px; height: 15px; margin: 0px 0px; display: block; background-color: #00ff00;}.jimu-widget-SAT-setting .footer {padding-top: 5px; width: 100%; height: 30px;}.jimu-widget-SAT-setting .field-picker-footer {padding-top: 5px; width: 100%; height: 30px;}.jimu-widget-SAT-setting .jimu-simple-table .simple-table-cell{line-height: 26px;}.jimu-widget-SAT-setting .dojoxCheckedMultiSelect .dojoxCheckedMultiSelectWrapper {height: 400px;}.jimu-widget-SAT-setting .dojoxMultiSelectItem {padding-bottom: 5px; padding-top: 5px;}.jimu-widget-SAT-setting .longSelect .dijitSelectLabel {text-align: left; text-overflow: ellipsis; overflow: hidden; max-width: 390px;}.jimu-widget-SAT-setting .medSelect .dijitSelectLabel {text-align: left; text-overflow: ellipsis; overflow: hidden; max-width: 340px;}.jimu-widget-SAT-setting .shortSelect .dijitSelectLabel {text-align: left; text-overflow: ellipsis; overflow: hidden; max-width: 190px;}.jimu-widget-SAT-setting .shortTypeSelect .dijitSelectLabel {text-align: left; text-overflow: ellipsis; overflow: hidden; max-width: 155px; min-width: 155px;}.jimu-widget-SAT-setting .display-options{display: inline-block; margin-right: 30px; vertical-align: middle;}.jimu-widget-SAT-setting .display-on{display: block;}.jimu-widget-SAT-setting .display-off{display: none;}.jimu-widget-SAT-setting .visDivLength {position: absolute; visibility: hidden; width: auto;}.jimu-widget-SAT-setting .field-picker-main {height: 100%; width: 100%; overflow: auto;}.jimu-widget-SAT-setting .pad-top20 {padding-top: 20px;}.jimu-widget-SAT-setting .div_edit_options {padding-left: 10px;}.jimu-rtl .jimu-widget-SAT-setting .div_edit_options {padding-right: 10px;}.jimu-widget-SAT-setting .edit_options {padding-top: 15px;}.jimu-widget-SAT-setting .td-padding {padding-bottom: 10px; padding-left: 10px;}.jimu-rtl .jimu-widget-SAT-setting .td-padding {padding-bottom: 10px; padding-right: 10px;}.jimu-widget-SAT-setting .select-width {width: 100%;}',
"*now":function(q){q(['dojo/i18n!*preload*widgets/SituationAwareness/setting/nls/Setting*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-style dojo/on dojo/query dijit/form/Select dijit/form/ValidationTextBox dijit/_WidgetsInTemplateMixin dijit/focus ./FeaturelayerSource ./FieldPicker jimu/BaseWidgetSetting jimu/dijit/Message jimu/dijit/Popup jimu/LayerInfos/LayerInfos dojo/dom-class dojo/dom-construct dijit/registry jimu/dijit/SimpleTable jimu/dijit/RadioBtn".split(" "),function(q,u,e,k,p,f,n,h,t,g,w,y,x,m,v,B,r,z,A){return q([x,t],{baseClass:"jimu-widget-SAT-setting",
opLayers:[],curRow:null,validFields:[],saveValid:!0,textValid:!0,postCreate:function(){this.inherited(arguments);this.nls=e.mixin(e.mixin(this.nls,window.jimuNls.units),window.jimuNls.temperature);this.chk_celsius.set("title",this.nls.celsius+"-"+this.nls.kilometers);this.chk_celsius_label.innerHTML=this.nls.celsius+"-"+this.nls.kilometers;this.addSelectUnitOptions();this._getAllLayers();this.own(p(this.btnAddTab,"click",e.hitch(this,this._addTabRow)));this.own(p(this.tabTable,"actions-edit",e.hitch(this,
function(b){this._onEditLayerClicked(b)})));this.own(p(this.tabTable,"row-delete",e.hitch(this,this._rowDeleted)));this.incident_label.invalidMessage=this.nls.invalid_string_width;this.incident_label.validator=e.hitch(this,this.checkSmallString,this.incident_label);this.locate_incident_label.invalidMessage=this.nls.invalid_string_width;this.locate_incident_label.validator=e.hitch(this,this.checkLargeString,this.locate_incident_label);this.buffer_lbl.invalidMessage=this.nls.invalid_string_width;this.buffer_lbl.validator=
e.hitch(this,this.checkLargeString,this.buffer_lbl)},addSelectUnitOptions:function(){this.selectUnits.addOption([{label:this.nls.miles,value:"miles",selected:!0},{label:this.nls.kilometers,value:"kilometers",selected:!1},{label:this.nls.feet,value:"feet",selected:!1},{label:this.nls.meters,value:"meters",selected:!1},{label:this.nls.yards,value:"yards",selected:!1},{label:this.nls.nauticalMiles,value:"nauticalMiles",selected:!1}])},startup:function(){this.inherited(arguments)},setConfig:function(b){this.config=
b;this.config.distanceUnits&&this.selectUnits.set("value",this.config.distanceUnits);this.config.maxDistance&&this.txt_maximumDistance.set("value",this.config.maxDistance);this.config.enableRouting&&this.chk_routing.set("value",!0);this.tabTable.clear();for(b=0;b<this.config.tabs.length;b++){var c=this.config.tabs[b];c.type===this.config.special_layer.value?(this.chk_weather.set("value",!0),this.weatherTabAdditionalLayers=c.layers,this.currentlySelectedLayer.innerHTML=this.weatherTabAdditionalLayers):
this._populateTabTableRow(c)}this.config.celsius&&this.chk_celsius.set("value",!0);this.incident_label.set("value",this.config.incidentLabel?this.config.incidentLabel:this.nls.incident);this.locate_incident_label.set("value",this.config.locateIncidentLabel?this.config.locateIncidentLabel:this.nls.locate_incident);this.buffer_lbl.set("value",this.config.bufferLabel?this.config.bufferLabel:this.nls.buffer_value);this.buffer_max.set("value",this.config.bufferRange.maximum);this.buffer_min.set("value",
this.config.bufferRange.minimum);this.config.saveEnabled&&"undefined"===typeof this.config.savePolys&&"undefined"===typeof this.config.saveLines&&"undefined"===typeof this.config.savePoints&&(this.config.savePolys=!0,this.config.polyEditLayer=this.config.editLayer);b=!1;b=this._updateEditUI(this.save_point_layers,this.chk_point_save,this.div_selectPointSaveLayer,this.config.savePoints,this.selectPointSaveLayer,this.config.pointEditLayer)?!0:b;b=this._updateEditUI(this.save_line_layers,this.chk_line_save,
this.div_selectLineSaveLayer,this.config.saveLines,this.selectLineSaveLayer,this.config.lineEditLayer)?!0:b;this._updateEditUI(this.save_poly_layers,this.chk_poly_save,this.div_selectPolySaveLayer,this.config.savePolys,this.selectPolySaveLayer,this.config.polyEditLayer)||b?(this.chk_save.onChange=e.hitch(this,function(a){this._updateDisplay(this.editOptions,a)}),this.chk_save.set("checked",this.config.saveEnabled),this._updateDisplay(this.editOptions,this.config.saveEnabled),this.config.saveEnabled&&
this.config.editTemplate&&(this.selectedTemplate=this.config.editTemplate,"undefined"!==typeof this.config.selectedTemplateIndex&&(this.selectedTemplateIndex=this.config.selectedTemplateIndex))):(this.chk_save.set("disabled","disabled"),this._updateDisplay(this.editOptions,!1));this.chk_csv.set("checked",this.config.csvAllFields);this.chk_display.set("checked",this.config.summaryDisplayEnabled);"undefined"!==typeof this.config.snapshotEnabled?this.chk_snapshot.set("checked",this.config.snapshotEnabled):
this.chk_snapshot.set("checked",!1)},_updateEditUI:function(b,c,a,l,d,C){var f=!1;"undefined"!==typeof b&&0<b.length?(f=!0,c.onChange=e.hitch(this,function(b){this._updateDisplay(a,b)}),d.addOption(b),b=!1,"undefined"!==typeof l&&(b=l)&&d.set("value",C),c.set("checked",b),this._updateDisplay(a,b)):(c.set("disabled",!0),c.set("checked",!1),this._updateDisplay(a,!1));return f},_updateDisplay:function(b,c){r.contains(b,c?"display-off":"display-on")&&r.remove(b,c?"display-off":"display-on");r.add(b,c?
"display-on":"display-off");(this.saveValid=this._validateSave())&&this._validateRows()&&this.textValid?this._enableOk():this._disableOk()},_validateRows:function(){for(var b=!0,c=this.tabTable.getRows(),a=0;a<c.length;a++)!1===c[a].isValid&&(b=!1);return b},_validateSave:function(){var b=!1;if(this.chk_save.checked){if(this.chk_point_save.checked||this.chk_line_save.checked||this.chk_poly_save.checked)b=!0}else b=!0;return b},getConfig:function(){this.config.distanceUnits=this.selectUnits.value;
this.txt_maximumDistance.value&&(this.config.maxDistance=this.txt_maximumDistance.value);this.config.enableRouting=this.chk_routing.checked?!0:!1;var b=[],c={};this.chk_weather.checked&&(c.label=this.config.special_layer.label,c.type=this.config.special_layer.value,c.layers=this.weatherTabAdditionalLayers,c.url=this.config.special_layer.url,b.push(c));this.config.celsius=this.chk_celsius.checked?!0:!1;var a=this.tabTable.getRows();u.forEach(a,e.hitch(this,function(a){var d=a.selectLayers,e=a.selectTypes,
l=a.labelText;c={};c.label=l.value;c.type=e.value;c.layers=d.value;c.layerTitle=d._getSelectedOptionsAttr().label;a.tabInfo&&a.tabInfo.advStat&&(c.advStat=a.tabInfo.advStat);b.push(c)}));this.config.tabs=b;this.config.incidentLabel=this.incident_label.value;this.config.locateIncidentLabel=this.locate_incident_label.value;this.config.bufferLabel=this.buffer_lbl.value;this.config.bufferRange.maximum=this.buffer_max.value;this.config.bufferRange.minimum=this.buffer_min.value;this.config.saveEnabled=
this.chk_save.checked;this.config.savePoints=this.chk_point_save.checked;this.config.savePoints&&(this.config.pointEditLayer=this.selectPointSaveLayer.value);this.config.saveLines=this.chk_line_save.checked;this.config.saveLines&&(this.config.lineEditLayer=this.selectLineSaveLayer.value);this.config.savePolys=this.chk_poly_save.checked;this.config.savePolys&&(this.config.polyEditLayer=this.selectPolySaveLayer.value);this.config.csvAllFields=this.chk_csv.checked;this.config.summaryDisplayEnabled=this.chk_display.checked;
this.config.snapshotEnabled=this.chk_snapshot.checked;return this.config},_getAllLayers:function(){this.map.itemId&&B.getInstance(this.map,this.map.itemInfo).then(e.hitch(this,function(b){this.opLayers=b;this._setLayers();this._setTypes();this.setConfig(this.config)}))},_setLayers:function(){var b="ArcGISFeatureLayer;ArcGISMapServiceLayer;CSV;KML;GeoRSS;Feature Layer;FeatureCollection".split(";"),c=[],a=[],l=[],d=[];u.forEach(this.opLayers._layerInfos,e.hitch(this,function(e){var f=!1;e.layerObject&&
e.layerObject.hasOwnProperty("tileInfo")?f=!0:0<e.newSubLayers.length?this._recurseOpLayers(e.newSubLayers,c,a,l,d):(e.layerObject&&(e.layerObject.url&&-1<e.layerObject.url.indexOf("ImageServer")&&(f=!0),e.layerObject.type&&-1===b.indexOf(e.layerObject.type)&&(f=!0)),f&&new m({message:this.nls.layer_type_not_supported+e.title}),f||(c.push({label:e.title,value:e.id}),e.layerObject&&this._updateEditOptions(e,a,l,d)))}));0===c.length?(k.set(this.btnAddTab,"display","none"),new m({message:this.nls.missingLayerInWebMap})):
(this.layer_options=e.clone(c),this.checkFields(),this.save_point_layers=e.clone(a),this.save_line_layers=e.clone(l),this.save_poly_layers=e.clone(d))},checkFields:function(){this.validFields=[];for(var b,c=0;c<this.layer_options.length;c++)b=new y({nls:this.nls,callerLayer:this.layer_options[c].value,callerOpLayers:this.opLayers._layerInfos,map:this.map,test:!0,callerTab:{type:"closest"}}),b._validatePopupFields().then(e.hitch(this,function(a){this.validFields.push(a)}))},_recurseOpLayers:function(b,
c,a,l,d){u.forEach(b,e.hitch(this,function(b){0<b.newSubLayers.length?this._recurseOpLayers(b.newSubLayers,c,a,l,d):(c.push({label:b.title,value:b.id}),b.layerObject&&this._updateEditOptions(b,a,l,d))}))},_updateEditOptions:function(b,c,a,e){var d=b.layerObject,f=d.capabilities,l;(f&&0<f.indexOf("Edit")||f&&0<f.indexOf("Create"))&&b.controlPopupInfo&&b.controlPopupInfo.enablePopup&&("esriGeometryPoint"===d.geometryType?l=c:"esriGeometryPolyline"===d.geometryType?l=a:"esriGeometryPolygon"===d.geometryType&&
(l=e),"undefined"!==typeof l&&l.push({label:b.title,value:b.id,selected:!1}))},_setTypes:function(){this.analysis_options=[{value:"closest",label:this.nls.closest},{value:"proximity",label:this.nls.proximity},{value:"summary",label:this.nls.summary},{value:"groupedSummary",label:this.nls.groupedSummary}]},_populateTabTableRow:function(b){var c=this.tabTable.addRow({});if(c.success&&c.tr){c=c.tr;c.tabInfo=b;this._addTabLayers(c);this._addTabTypes(c);this._addTabLabel(c);var a="undefined"!==typeof b.layerTitle?
b.layers:this.getLayerID(b.layers);c.selectLayers.set("value",a);c.selectTypes.set("value",b.type,!1);c.labelText.set("value",b.label)}},getLayerID:function(b){for(var c=0;c<this.layer_options.length;c++){var a=this.layer_options[c];if(b===a.label||b===a.value)return a.value}},_rowDeleted:function(){for(var b=this.tabTable.getRows(),c=!0,a=0;a<b.length;a++)if(!b[a].isValid){c=!1;break}b=f(".button-container")[0];k.set(b.children[2],"display",c?"inline-block":"none");k.set(b.children[3],"display",
c?"none":"inline-block")},_addTabRow:function(){var b=this.tabTable.addRow({});b.success&&b.tr&&(b=b.tr,this._addTabLayers(b),this._addTabTypes(b),this._addTabLabel(b))},_addTabLayers:function(b){var c=e.clone(this.layer_options),a=f(".simple-table-cell",b)[0];a&&(c=new n({style:{width:"100%",height:"26px"},"class":"medSelect",options:c}),c.placeAt(a),c.startup(),b.selectLayers=c,c.on("change",function(){var a=this.domNode.parentNode;a.parentNode.selectTypes.validate();g.focus(a.parentNode.selectTypes.domNode);
a.parentNode.selectTypes.domNode.blur();a=f(".jimu-simple-table")[0];g.focus(a);g.focus(this.domNode)}))},_addTabTypes:function(b){var c=e.clone(this.analysis_options),a=f(".simple-table-cell",b)[1];a&&(c=new n({style:{width:"100%",height:"26px"},required:!0,isValid:this.validateType,validFields:this.validFields,options:c,row:b,parent:this,parentTable:this.tabTable,nls:this.nls,"class":"shortTypeSelect"}),c.placeAt(a),c.startup(),c._missingMsg=this.nls.need_group_field,c.on("change",function(){this.domNode.blur();
var a=f(".jimu-simple-table")[0];g.focus(a)}),b.selectTypes=c,g.focus(c.domNode),c.domNode.blur(),b=f(".jimu-simple-table")[0],g.focus(b))},validateType:function(){var b=this.row,c=this.value,a=!0,e=b.tabInfo,d=!0,g;e&&e.advStat&&e.advStat.stats?g=e.advStat.stats:d=!1;for(e=0;e<this.validFields.length;e++){var h=this.validFields[e];if(h.layer===b.selectLayers.value){b.validFields=h;if("summary"===c)g&&(g.hasOwnProperty("min")||g.hasOwnProperty("max")||g.hasOwnProperty("avg")||g.hasOwnProperty("sum")||
g.hasOwnProperty("count")||g.hasOwnProperty("area")||g.hasOwnProperty("length")||(d=!1)),d||(!h.hasSummaryPopupFields&&h.hasSummaryFields?(this._missingMsg=this.nls.no_valid_popup_fields,a=!1):h.hasSummaryPopupFields||h.hasSummaryFields||(this._missingMsg=this.nls.no_valid_fields,a=!1));else if("groupedSummary"===c){if(this._missingMsg=this.nls.need_group_field,g&&!g.hasOwnProperty("pre")&&!g.hasOwnProperty("suf")||!d)a=!1}else g&&g.outFields&&(d=0<g.outFields.length),d||h.hasPopupFields||(this._missingMsg=
this.nls.no_valid_popup_fields,a=!1);break}}b.isValid=a;b.isEditable=!0;b=b.querySelectorAll(".jimu-icon-edit")[0];r.contains(b,"jimu-state-disabled")&&r.remove(b,"jimu-state-disabled");c=this.parentTable.getRows();b=!0;for(d=0;d<c.length;d++)if(!c[d].isValid){b=!1;break}c=this.parent;d=f(".button-container")[0];k.set(d.children[2],"display",b&&c.saveValid&&c.textValid?"inline-block":"none");k.set(d.children[3],"display",b&&c.saveValid&&c.textValid?"none":"inline-block");return a},checkSmallString:function(b,
c){return this.checkString(b,c,180)},checkLargeString:function(b,c){return this.checkString(b,c,260)},checkString:function(b,c,a){c=z.create("div",{"class":"visDivLength",id:"SA_VisDiv",innerHTML:c},b.domNode);a=c.clientWidth<a?!0:!1;z.destroy(c);this.textValid=a;var g=A.byNode(b.domNode).id;f(".validationBox2").forEach(e.hitch(this,function(a){a=A.byNode(a);g!==a.id&&(this.textValid=this.textValid?"Error"!==a.state:this.textValid)}));this.textValid&&this.saveValid&&this._validateRows()?this._enableOk():
this._disableOk();return a},_addTabLabel:function(b){var c=f(".simple-table-cell",b)[2],a=new h({style:{width:"100%",height:"26px"}});a.placeAt(c);a.startup();b.labelText=a},_onBtnSelectLayersClicked:function(){var b=new w({nls:this.nls,map:this.map,config:this.config,weatherTabAdditionalLayers:this.weatherTabAdditionalLayers,appConfig:this.appConfig}),c=new v({width:830,height:560,content:b,titleLabel:this.nls.selectLayers});this.own(p(b,"ok",e.hitch(this,function(a){this.weatherTabAdditionalLayers=
a;this.currentlySelectedLayer.innerHTML=this.weatherTabAdditionalLayers;b.destroy();b=null;c.close()})));this.own(p(b,"cancel",e.hitch(this,function(){b.destroy();b=null;c.close()})))},_onEditLayerClicked:function(b){this.curRow=b;if(b.isEditable){var c=b.tabInfo;c||(c={},c.label=b.labelText.value,c.type=b.selectTypes.value,c.layers=b.selectLayers.value,c.advStat={},b.tabInfo=c);var a="undefined"!==typeof c.layerTitle?c.layers:this.getLayerID(c.layers);if(c.type!==b.selectTypes.value||a!==b.selectLayers.value)c.type=
b.selectTypes.value,c.layers=b.selectLayers.value,c.advStat={};var f=new y({nls:this.nls,callerLayer:b.selectLayers.value,callerTab:c,callerOpLayers:this.opLayers._layerInfos,map:this.map}),d=new v({width:830,height:560,content:f,titleLabel:this.nls.selectFields+": "+b.selectLayers._getSelectedOptionsAttr().label});this.own(p(f,"ok",e.hitch(this,function(a){this.curRow.tabInfo.advStat=a;a=this.curRow.selectTypes.domNode;this.curRow.selectTypes.validate();g.focus(a);g.focus(a.parentNode.offsetParent);
this.curRow=null;f.destroy();f=null;d.close()})));this.own(p(f,"cancel",e.hitch(this,function(){this.curRow=null;f.destroy();f=null;d.close()})))}},_disableOk:function(){var b=f(".button-container")[0];k.set(b.children[2],"display","none");k.set(b.children[3],"display","inline-block")},_enableOk:function(){var b=f(".button-container")[0];k.set(b.children[2],"display","inline-block");k.set(b.children[3],"display","none")}})});