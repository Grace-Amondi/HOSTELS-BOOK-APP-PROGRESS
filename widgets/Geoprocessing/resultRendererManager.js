// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define(["jimu/utils","dojo/_base/array","./resultrenderers/simpleResultRenderers"],function(l,m,e){var g={},k,h;g.createResultRenderer=function(c,a,b){var f="ArcGISDynamicMapServiceLayer"===a._wab_type?"AddResultImageLayer":"GPFeatureRecordSetLayer"===c.dataType?"DrawResultFeatureSet":"GPRecordSet"===c.dataType?"RecordSetTable":"error"===c?"Error":"SimpleResultRenderer";b={param:c,widgetUID:b.uid,map:k,nls:h,config:b.config};if("DrawResultFeatureSet"===f)b.value=a.value,a=new e.DrawResultFeatureSet(b);
else if("RecordSetTable"===f)b.value=a.value,a=new e.RecordSetTable(b);else if("SimpleResultRenderer"===f){var d="";a=a.value;Array.isArray(a)||(a=[a]);m.forEach(a,function(a){""!==d&&(d+="\x3cbr\x3e");if(["GPLong","GPDouble","GPString","GPBoolean"].some(function(a){return c.dataType.includes(a)}))d+=l.sanitizeHTML(a);else if(c.dataType.includes("GPLinearUnit"))d+=a.distance+"\x26nbsp;"+a.units;else if(c.dataType.includes("GPDate"))d+=(new Date(a)).toLocaleTimeString();else if(c.dataType.includes("GPRecordSet"))d+=
"table";else if(c.dataType.includes("GPDataFile")||c.dataType.includes("GPRasterDataLayer"))d=a.url?d+('\x3ca target\x3d"_blank" href\x3d"'+a.url+'"\x3e'+a.url+"\x3c/a\x3e"):d+(c.paramName+": null")});b.message=d;a=new e.SimpleResultRenderer(b)}else"AddResultImageLayer"===f?(b.layer=a,a=new e.AddResultImageLayer(b)):"UnsupportRenderer"===f?(b.message="type "+c.dataType+" is not supported for now.",a=new e.UnsupportRenderer(b)):"Error"===f?(b.message=h.error,a=new e.ErrorResultRenderer(b)):(b.message=
"unknown renderer name: "+f,a=new e.UnsupportRenderer(b));return a};g.setMap=function(c){k=c};g.setNls=function(c){h=c};return g});