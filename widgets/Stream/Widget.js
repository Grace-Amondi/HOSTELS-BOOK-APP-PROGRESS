// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/Stream/StreamControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./StreamControl.html jimu/dijit/DrawBox ./FilterItem jimu/dijit/CheckBox dijit/form/RadioButton esri/symbols/jsonUtils esri/symbols/SimpleFillSymbol esri/graphic jimu/dijit/SimpleTable dijit/form/NumberSpinner jimu/dijit/LoadingShelter".split(" "),
function(h,e,f,q,r,g,b,t,a,l,k,d,m,u,w,x,v,c,p){return h([a,l,k],{baseClass:"jimu-widget-stream",templateString:d,map:null,streamLayer:null,isStreaming:!0,mapExtentChangeHandler:null,config:null,filterItems:[],postCreate:function(){this.inherited(arguments);this.spatialFilterToggle=new w({checked:!1,label:this.nls.useSpatialFilter,onChange:e.hitch(this,this._toggleSpatialFilter)});this.spatialFilterToggle.placeAt(this.spatialFilterToggleDiv);this.attrFilterToggle=new w({checked:!1,label:this.nls.useAttributeFilter,
onChange:e.hitch(this,this._toggleAttributeFilter)});this.attrFilterToggle.placeAt(this.attrFilterToggleDiv);this.config&&this._applyConfig();this.streamLayer&&this._bindEvents()},_applyConfig:function(){!0!==this.config.startStop&&g.set(this.startBtn,"display","none");!0!==this.config.clear&&g.set(this.clearBtn,"display","none");!0!==this.config.drawPrevious&&g.set(this.drawPreviousSection,"display","none");!0!==this.config.spatialFilter?(g.set(this.spatialFilterControl,"display","none"),g.set(this.spatialFilterSection,
"display","none")):this.config.mapExtentFilter&&this.config.drawExtentFilter?(this._createMapAreaFilterControl(!0),this._createDrawAreaFilterControl(!0)):this.config.mapExtentFilter?this._createMapAreaFilterControl(!1):this.config.drawExtentFilter?this._createDrawAreaFilterControl(!1):(g.set(this.spatialFilterControl,"display","none"),g.set(this.spatialFilterSection,"display","none"));if(this.config.attrFilter&&0<this.config.filterList.length){var c,p,a=!1;f.forEach(this.config.filterList,e.hitch(this,
function(n,d){p=1===this.config.filterList.length?"checkbox":"radio";var k=!0===n.inherited&&n.definitionExpression===this.streamLayer.getDefinitionExpression();c=new u({uid:this.id,config:n,type:p,streamLayer:this.streamLayer,index:d,checked:k,nls:this.nls});c.placeAt(this.attrFilterSection);this.filterItems.push(c);a=a||k}));a&&this.attrFilterToggle.setValue(!0)}else g.set(this.attrFilterControl,"display","none"),g.set(this.attrFilterSection,"display","none");this.config.spatialFilter||this.config.attrFilter&&
0!==this.config.filterList.length||g.set(this.filterLabelSection,"display","none")},_createMapAreaFilterControl:function(c){var p;p=t.create("div",{"class":"filterOption"},this.spatialFilterSection);c?(this.mapAreaControl=new x({id:this.id+"_mapAreaObservations",name:this.id+"_sf",value:"mapArea"}),this.mapAreaControl.placeAt(p),this.own(q(this.mapAreaControl,"change",e.hitch(this,this._mapAreaFilterChange))),t.create("label",{"class":"jimu-widget-normal","for":this.id+"_mapAreaObservations",innerHTML:this.nls.showMapAreaObservations},
p)):(this.mapAreaControl=new w({checked:!1,label:this.nls.showMapAreaObservations,onChange:e.hitch(this,this._mapAreaFilterChange)}),this.mapAreaControl.placeAt(p))},_createDrawAreaFilterControl:function(a){var n;n=t.create("div",{"class":"filterOption"},this.spatialFilterSection);a?(this.drawAreaControl=new x({id:this.id+"_drawAreaObservations",name:this.id+"_sf",value:"drawArea"}),this.drawAreaControl.placeAt(n),this.own(q(this.drawAreaControl,"change",e.hitch(this,this._drawAreaFilterChange))),
t.create("label",{"class":"jimu-widget-normal","for":this.id+"_drawAreaObservations",innerHTML:this.nls.showObservationsByDrawing},n)):(this.drawAreaControl=new w({checked:!1,label:this.nls.showObservationsByDrawing,onChange:e.hitch(this,this._drawAreaFilterChange)}),this.drawAreaControl.placeAt(n));this.drawToolDiv=t.create("div",{style:"display:none"},n);this.drawTool=new m({map:this.map,showClear:!0,keepOneGraphic:!0,geoTypes:["EXTENT"],types:["polygon"]});this.config.drawSymbol&&this.drawTool.setPolygonSymbol(v.fromJson(this.config.drawSymbol));
this.drawTool.placeAt(this.drawToolDiv);this.own(q(this.drawTool,"draw-end",e.hitch(this,function(a){a=new p(a.toJson());var n;a.symbol.setStyle(c.STYLE_NULL);this.drawTool.addGraphic(a);n=q(this.streamLayer,"filter-change",e.hitch(this,function(c){n.remove();c.filter.geometry&&"extent"===c.filter.geometry.type&&setTimeout(e.hitch(this,function(){this._clearOutsideGraphics(c.filter.geometry)}),100)}));this.streamLayer.setGeometryDefinition(a.geometry)})));this.own(q(this.drawTool,"clear",e.hitch(this,
function(){this.streamLayer.setGeometryDefinition(this.map.extent)})))},_mapAreaFilterChange:function(c){c?(this.streamLayer&&this.streamLayer.setGeometryDefinition(this.map.extent),this._addMapExtentChangeHandler()):this._removeMapExtentChangeHandler()},_drawAreaFilterChange:function(c){c?g.set(this.drawToolDiv,"display",""):(this.drawTool.clear(),g.set(this.drawToolDiv,"display","none"))},_bindEvents:function(){"none"!==g.get(this.startBtn,"display")&&this.own(q(this.startBtn,"click",e.hitch(this,
function(){(this.isStreaming=!this.isStreaming)?(b.add(this.startBtn,"stop"),r.set(this.startBtnLabel,"innerHTML",this.nls.stopStreaming),this.startStreaming()):(b.remove(this.startBtn,"stop"),r.set(this.startBtnLabel,"innerHTML",this.nls.startStreaming),this.stopStreaming())})));"none"!==g.get(this.clearBtn,"display")&&this.own(q(this.clearBtn,"click",e.hitch(this,function(){this.streamLayer.clear()})));if("none"!==g.get(this.drawPreviousSection,"display")){var c=this.streamLayer.maximumTrackPoints||
1;this.previousSpinner.set("value",c-1);this.streamLayer.setMaximumTrackPoints(c);this.own(q(this.previousSpinner,"change",e.hitch(this,function(c){this.streamLayer.setMaximumTrackPoints(c+1)})))}},_clearOutsideGraphics:function(c){this.streamLayer.clear()},destroy:function(){this.inherited(arguments);this._removeMapExtentChangeHandler()},stopStreaming:function(){this.streamLayer.disconnect(e.hitch(this,function(){this.streamLayer.clear()}))},startStreaming:function(){this.streamLayer.connect()},
_removeMapExtentChangeHandler:function(){this.mapExtentChangeHandler&&"function"===typeof this.mapExtentChangeHandler.remove&&(this.mapExtentChangeHandler.remove(),this.mapExtentChangeHandler=null)},_addMapExtentChangeHandler:function(){null===this.mapExtentChangeHandler&&(this.mapExtentChangeHandler=q(this.map,"extent-change",e.hitch(this,this._mapExtentChange)))},_mapExtentChange:function(c){this.streamLayer&&this.streamLayer.setGeometryDefinition(c.extent)},_toggleSpatialFilter:function(c){c?g.set(this.spatialFilterSection,
"display",""):(g.set(this.spatialFilterSection,"display","none"),g.set(this.drawToolDiv,"display","none"),this.mapAreaControl&&("jimu.dijit.CheckBox"===this.mapAreaControl.dealaredClass?this.mapAreaControl.setValue(!1):this.mapAreaControl.set("checked",!1)),this.drawAreaControl&&(this.drawTool.clear(),"jimu.dijit.CheckBox"===this.drawAreaControl.dealaredClass?this.drawAreaControl.setValue(!1):this.drawAreaControl.set("checked",!1)),this._removeMapExtentChangeHandler(),this.streamLayer&&this.streamLayer.setGeometryDefinition(null))},
_toggleAttributeFilter:function(c){c?g.set(this.attrFilterSection,"display",""):(g.set(this.attrFilterSection,"display","none"),f.forEach(this.filterItems,function(c){c.unCheck()}),this.streamLayer&&this.streamLayer.setDefinitionExpression(null))}})})},"widgets/Stream/FilterItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/json dojo/dom-style dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterItem.html jimu/dijit/CheckBox dijit/form/RadioButton jimu/dijit/FilterParameters jimu/filterUtils jimu/utils".split(" "),
function(h,e,f,q,r,g,b,t,a,l,k,d,m,u){return h([b,t],{baseClass:"jimu-widget-stream-filterItem",templateString:a,streamLayer:null,config:null,type:null,checked:!1,uid:"",index:0,askForValues:!0,postCreate:function(){this.inherited(arguments);this._init()},_init:function(){var a;"checkbox"===this.type?(this.control=new l({checked:this.checked,label:this.config.name,onChange:e.hitch(this,this._checkBoxChange)}),this.control.placeAt(this.controlSection)):"radio"===this.type&&(a=g.create("div",{},this.controlSection),
this.control=new k({checked:this.checked,value:this.config.name,name:this.uid+"_attFilterItem",id:this.uid+"_attFilterItem_"+this.index}),this.own(f(this.control,"change",e.hitch(this,function(a){this._checkBoxChange(a)}))),this.control.placeAt(a),g.create("label",{"class":"jimu-widget-normal",innerHTML:u.sanitizeHTML(this.config.name),"for":this.uid+"_attFilterItem_"+this.index},a));this.attrParamsDijit=new d;this.attrParamsDijit.placeAt(this.attrFilterParams);this.attrParamsDijit.startup();a=q.parse(this.streamLayer._json);
this.attrParamsDijit.build(this.streamLayer.url,a,this.config.filterInfo);(this.askForValues=(new m).isAskForValues(this.config.filterInfo))?this.own(f(this.applyAttrFilterBtn,"click",e.hitch(this,this._applyFilter))):r.set(this.applyAttrFilterBtn,"display","none")},unCheck:function(){"checkbox"===this.type?this.control.setValue(!1):"radio"===this.type&&this.control.set("checked",!1);r.set(this.filterSection,"display","none")},_applyFilter:function(){var a=this.attrParamsDijit.getFilterExpr();a&&
"string"===typeof a&&(this.streamLayer.setDefinitionExpression(a),this.streamLayer.clear())},_checkBoxChange:function(a){a?this.askForValues?r.set(this.filterSection,"display",""):this._applyFilter():(r.set(this.filterSection,"display","none"),"checkbox"===this.type&&this.streamLayer&&this.streamLayer.setDefinitionExpression(null))}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(h,e,f){return h("dijit.form.RadioButton",[e,f],{baseClass:"dijitRadio"})})},
"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),function(h,e,f,q,r,g){return e("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var b=[];r("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(q.hitch(this,function(e){e.name==this.name&&e.form==this.focusNode.form&&(e=g.getEnclosingWidget(e))&&b.push(e)}));return b},_setCheckedAttr:function(b){this.inherited(arguments);
this._created&&b&&h.forEach(this._getRelatedWidgets(),q.hitch(this,function(b){b!=this&&b.checked&&b.set("checked",!1)}))},_getSubmitValue:function(b){return null==b?"on":b},_onClick:function(b){if(this.checked||this.disabled)return b.stopPropagation(),b.preventDefault(),!1;if(this.readOnly)return b.stopPropagation(),b.preventDefault(),h.forEach(this._getRelatedWidgets(),q.hitch(this,function(a){f.set(this.focusNode||this.domNode,"checked",a.checked)})),!1;var e=!1,a;h.some(this._getRelatedWidgets(),
function(b){return b.checked?(a=b,!0):!1});this.checked=!0;a&&(a.checked=!1);if(!1===this.onClick(b)||b.defaultPrevented)e=!0;this.checked=!1;a&&(a.checked=!0);e?b.preventDefault():this.set("checked",!0);return!e}})})},"jimu/dijit/FilterParameters":function(){define("dojo/on dojo/Evented dojo/Deferred dojo/promise/all dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/_base/html dojo/_base/array dojo/query dijit/registry jimu/filterUtils jimu/utils ./_SingleFilterParameter ./_filter/ValueProviderFactory".split(" "),
function(h,e,f,q,r,g,b,t,a,l,k,d,m,u,w,x,v){return r([g,b,t,e],{baseClass:"jimu-filter-parameters",templateString:'\x3cdiv\x3e\x3ctable style\x3d"width:100%;border-collapse:collapse;"\x3e\x3ctbody data-dojo-attach-point\x3d"tbody"\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e',_filterUtils:null,_spObj:null,nls:null,partsObj:null,layerInfo:null,OPERATORS:null,url:null,featureLayerId:null,postMixInProperties:function(){this.nls=window.jimuNls.filterBuilder;this._filterUtils=new u;this.OPERATORS=a.clone(this._filterUtils.OPERATORS);
this._spObj={}},destroy:function(){this.clear();this._filterUtils=null;this.inherited(arguments)},getFilterExpr:function(){var c=this._getNewValidPartsObj(this.partsObj,!0);return c?this._getFilterExprByPartsObj(c):null},getValueProviders:function(){for(var c=[],a=this._getAllInteractiveSinglePartArray(this.partsObj),n=0;n<a.length;n++){var d=a[n].spId;d&&(d=this._getSingleFilterParameterBySpId(d),c.push(d))}return c},_getNewValidPartsObj:function(c,p){c=a.clone(c);for(var d={logicalOperator:c.logicalOperator,
parts:[]},b=a.hitch(this,function(c){if(c.spId){var a=this._getSingleFilterParameterBySpId(c.spId);c.valueObj=a.getValueObject();return a.getStatus()}return c.valueObj?1:-1}),m=a.hitch(this,function(c){var a=b(c);0<a&&d.parts.push(c);return a}),e=a.hitch(this,function(c){var p=[];c.parts=k.filter(c.parts,a.hitch(this,function(c){c=b(c);p.push(c);return 0<c}));1===c.parts.length?d.parts.push(c.parts[0]):2<=c.parts.length&&d.parts.push(c);return Math.min.apply(p,p)}),l=0;l<c.parts.length;l++){var u=
c.parts[l];if(u.parts){if(0>e(u)&&p)return null}else if(0>m(u)&&p)return null}return d},_getFilterExprByPartsObj:function(c){this._filterUtils.isHosted=w.isHostedService(this.url);return this._filterUtils.getExprByFilterObj(c)},_getSingleFilterParameterBySpId:function(c){return this._spObj[c]},_getCascadeFilterExpr:function(c){var p="1\x3d1",d={logicalOperator:this.partsObj.logicalOperator,parts:[]},b=a.clone(this.partsObj),m,e,l;m="none";c.interactiveObj&&c.interactiveObj.cascade&&(m=c.interactiveObj.cascade);
if("previous"===m)for(m=0;m<b.parts.length;m++)e=b.parts[m],e.majorCascadeIndex<c.majorCascadeIndex?d.parts.push(e):e.parts&&e.majorCascadeIndex===c.majorCascadeIndex&&(l=a.clone(e),l.parts=k.filter(l.parts,a.hitch(this,function(a){return a.minorCascadeIndex<c.minorCascadeIndex})),d.parts.push(l));else if("all"===m)for(m=0;m<b.parts.length;m++)e=b.parts[m],e.majorCascadeIndex!==c.majorCascadeIndex?d.parts.push(e):e.majorCascadeIndex===c.majorCascadeIndex&&e.parts&&(l=a.clone(e),k.some(e.parts,a.hitch(this,
function(a){return a.spId===c.spId}))&&(l.parts=k.filter(l.parts,a.hitch(this,function(a){return a.minorCascadeIndex!==c.minorCascadeIndex})),d.parts.push(l)));(d=this._getNewValidPartsObj(d,!1))&&(p=this._getFilterExprByPartsObj(d));p||(p="1\x3d1");return p},clear:function(){this.featureLayerId=this.url=null;var c=d(".jimu-widget-query-single-parameter",this.tbody);k.forEach(c,a.hitch(this,function(c){m.byNode(c).destroy()}));l.empty(this.tbody);this.layerInfo=this.partsObj=null},build:function(c,
p,b,m){var n=new f;this.clear();this.url=c;this.layerInfo=p;this.partsObj=a.clone(b);this.partsObj=this._updatePartsObj(this.partsObj);this.featureLayerId=m;this._setCascadeIndexForPartsObj(this.partsObj);c=this._getAllInteractiveSinglePartArray(this.partsObj);if(0<c.length){var e=new v({url:this.url,layerDefinition:p,featureLayerId:this.featureLayerId});c=k.map(c,a.hitch(this,function(c){var b=l.create("tr",{innerHTML:"\x3ctd\x3e\x3c/td\x3e"},this.tbody),b=d("td",b)[0],n=this._getFieldInfo(c.fieldObj.name,
this.layerInfo),n=new x({nls:this.nls,url:this.url,layerDefinition:p,fieldInfo:n,part:c,valueProviderFactory:e});this.own(h(n,"change",a.hitch(this,this._onSingleFilterParameterChanged)));n.placeAt(b);n.startup();c.spId=n.id;return this._spObj[n.id]=n}));k.forEach(c,a.hitch(this,function(c){c.valueProvider.getCascadeFilterExpr=a.hitch(this,this._getCascadeFilterExpr,c.part)}));c=k.map(c,a.hitch(this,function(c){return c.init()}));q(c).then(a.hitch(this,function(){n.resolve()}),a.hitch(this,function(){n.reject()}))}else n.resolve();
return n},_updatePartsObj:function(c){k.forEach(c,a.hitch(this,function(c){c.parts?k.forEach(c.parts,a.hitch(this,function(c){c.interactiveObj&&!0===c.interactiveObj.cascade?c.interactiveObj.cascade="previous":!1===c.interactiveObj.cascade&&(c.interactiveObj.cascade="none")})):c.interactiveObj&&!0===c.interactiveObj.cascade?c.interactiveObj.cascade="previous":!1===c.interactiveObj.cascade&&(c.interactiveObj.cascade="none")}));return c},_setCascadeIndexForPartsObj:function(c){for(var a=0;a<c.parts.length;a++){var d=
c.parts[a];d.majorCascadeIndex="AND"===c.logicalOperator?a:0;d.minorCascadeIndex=0;d.cascadeIndex=d.majorCascadeIndex;if(d.parts)for(var b=0;b<d.parts.length;b++){var k=d.parts[b];k.majorCascadeIndex=d.majorCascadeIndex;k.minorCascadeIndex="AND"===d.logicalOperator?b:0;k.cascadeIndex=parseFloat(k.majorCascadeIndex+"."+k.minorCascadeIndex)}}},_getFieldInfo:function(c,a){for(var p=a.fields,d=0;d<p.length;d++){var b=p[d];if(c===b.name)return b}return null},_getAllInteractiveSinglePartArray:function(c){for(var a=
[],d=0;d<c.parts.length;d++){var b=c.parts[d];if(b.parts)for(var k=0;k<b.parts.length;k++){var m=b.parts[k];m.interactiveObj&&a.push(m)}else b.interactiveObj&&a.push(b)}return a},_onSingleFilterParameterChanged:function(){this.emit("change",this.getFilterExpr(!1))}})})},"jimu/dijit/_SingleFilterParameter":function(){define("dojo/on dojo/Evented dojo/Deferred dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/_SingleFilterParameter.html dojo/_base/lang".split(" "),
function(h,e,f,q,r,g,b,t,a){return q([r,g,b,e],{baseClass:"jimu-single-filter-parameter",templateString:t,valueProvider:null,nls:null,url:null,layerDefinition:null,fieldInfo:null,part:null,valueProviderFactory:null,postCreate:function(){this.inherited(arguments);this.valueProvider=this.valueProviderFactory.getValueProvider(this.part,!0);this.valueProvider.placeAt(this.valueProviderTd);this.own(h(this.valueProvider,"change",a.hitch(this,this._onValueProviderChanged)));this.valueProvider.bindChangeEvents()},
getValueObject:function(){return this.valueProvider.getValueObject()},init:function(){return this.build(this.fieldInfo,this.part)},build:function(a,b){var d=null;this.fieldInfo=a;this.part=b;if(d=b.interactiveObj)this.promptNode.innerHTML=d.prompt||"",this.hintNode.innerHTML=d.hint||"";d=this.valueProvider.setValueObject(this.part.valueObj);d&&"function"===typeof d.then||(d=new f,d.resolve());return d},disable:function(){this.valueProvider.disable()},enable:function(){this.valueProvider.enable()},
isEnabled:function(){return this.valueProvider.isEnabled()},getStatus:function(){return this.valueProvider.getStatus()},_showValidationErrorTip:function(a){!a.validate()&&a.domNode&&a.focusNode&&(a.focusNode.focus(),a.focusNode.blur())},_onValueProviderChanged:function(){this.emit("change")}})})},"jimu/dijit/_filter/ValueProviderFactory":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare ./BlankValueProvider ./SimpleValueProvider ./TwoNumbersValueProvider ./TwoDatesValueProvider ./ListValueProvider jimu/LayerInfos/LayerInfos".split(" "),
function(h,e,f,q,r,g,b,t,a){var l={stringOperatorIs:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",codedValueProviderType:"LIST_VALUE_PROVIDER",supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"},unique:{normalProviderType:"LIST_VALUE_PROVIDER",supportAskForValue:!0,filterCodedValueIfPossible:!0}},stringOperatorIsNot:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"},unique:{normalProviderType:"LIST_VALUE_PROVIDER",
supportAskForValue:!0,filterCodedValueIfPossible:!0}},stringOperatorStartsWith:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",supportAskForValue:!0,supportCaseSensitive:!0}},stringOperatorEndsWith:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",supportAskForValue:!0,supportCaseSensitive:!0}},stringOperatorContains:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",supportAskForValue:!0,supportCaseSensitive:!0}},stringOperatorDoesNotContain:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",
supportAskForValue:!0,supportCaseSensitive:!0}},stringOperatorIsBlank:{value:{normalProviderType:"BLANK_VALUE_PROVIDER"}},stringOperatorIsNotBlank:{value:{normalProviderType:"BLANK_VALUE_PROVIDER"}},numberOperatorIs:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",codedValueProviderType:"LIST_VALUE_PROVIDER",supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"},unique:{normalProviderType:"LIST_VALUE_PROVIDER",supportAskForValue:!0,filterCodedValueIfPossible:!0}},numberOperatorIsNot:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",
supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"},unique:{normalProviderType:"LIST_VALUE_PROVIDER",supportAskForValue:!0,filterCodedValueIfPossible:!0}},numberOperatorIsAtLeast:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"},unique:{normalProviderType:"LIST_VALUE_PROVIDER",supportAskForValue:!0,filterCodedValueIfPossible:!0}},numberOperatorIsLessThan:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",
supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"},unique:{normalProviderType:"LIST_VALUE_PROVIDER",supportAskForValue:!0,filterCodedValueIfPossible:!0}},numberOperatorIsAtMost:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"},unique:{normalProviderType:"LIST_VALUE_PROVIDER",supportAskForValue:!0,filterCodedValueIfPossible:!0}},numberOperatorIsGreaterThan:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",
supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"},unique:{normalProviderType:"LIST_VALUE_PROVIDER",supportAskForValue:!0,filterCodedValueIfPossible:!0}},numberOperatorIsBetween:{value:{normalProviderType:"TWO_NUMBERS_VALUE_PROVIDER",supportAskForValue:!0}},numberOperatorIsNotBetween:{value:{normalProviderType:"TWO_NUMBERS_VALUE_PROVIDER",supportAskForValue:!0}},numberOperatorIsBlank:{value:{normalProviderType:"BLANK_VALUE_PROVIDER"}},numberOperatorIsNotBlank:{value:{normalProviderType:"BLANK_VALUE_PROVIDER"}},
dateOperatorIsOn:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"}},dateOperatorIsNotOn:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"}},dateOperatorIsBefore:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"}},dateOperatorIsAfter:{value:{normalProviderType:"SIMPLE_VALUE_PROVIDER",
supportAskForValue:!0},field:{normalProviderType:"LIST_VALUE_PROVIDER"}},dateOperatorIsBetween:{value:{normalProviderType:"TWO_DATES_VALUE_PROVIDER",supportAskForValue:!0}},dateOperatorIsNotBetween:{value:{normalProviderType:"TWO_DATES_VALUE_PROVIDER",supportAskForValue:!0}},dateOperatorIsBlank:{value:{normalProviderType:"BLANK_VALUE_PROVIDER"}},dateOperatorIsNotBlank:{value:{normalProviderType:"BLANK_VALUE_PROVIDER"}}},k=f([],{nls:null,url:null,layerDefinition:null,layerInfo:null,featureLayerId:null,
constructor:function(d){h.mixin(this,d);this.nls=window.jimuNls.filterBuilder;d=a.getInstanceSync();this.featureLayerId&&(this.layerInfo=d.getLayerOrTableInfoById(this.featureLayerId))},getSupportedValueTypes:function(a,b){var d=[],k=l[b];k&&(k.value&&d.push("value"),k.field&&0<this._getSameShortTypeFieldNames(a).length&&d.push("field"),k.unique&&this.url&&(this._isStreamServer(this.url)||10.1<=parseFloat(this.layerDefinition.currentVersion)&&d.push("unique")));return d},_isStreamServer:function(a){a=
(a||"").replace(/\/*$/g,"");return/\/StreamServer$/gi.test(a)},_getSameShortTypeFieldNames:function(a){var d=[],b=this._getFieldInfo(this.layerDefinition,a),l=k.getShortTypeByEsriType(b.type);e.forEach(this.layerDefinition.fields,h.hitch(this,function(b){b.name!==a&&k.getShortTypeByEsriType(b.type)===l&&d.push(b.name)}));return d},getValueProvider:function(a,k){var d=null,m=h.clone(l[a.operator]);if(m){var f=a.valueObj.type,v=a.fieldObj.name,c=this._getFieldInfo(this.layerDefinition,v),p=m[f],n=p.normalProviderType,
z=null,y=this._getCodedValues(c);y||this.layerDefinition.typeIdField&&this.layerDefinition.typeIdField.toUpperCase()===v.toUpperCase()&&(y=this._getSubTypes(this.layerDefinition));"field"===f?(f=this._getSameShortTypeFieldNames(v),0<f.length&&(z=e.map(f,h.hitch(this,function(c){return{value:c,label:c}})))):y&&0<y.length&&p.codedValueProviderType&&(n=p.codedValueProviderType);m={nls:this.nls,url:this.url,layerDefinition:this.layerDefinition,partObj:a,fieldInfo:c,codedValues:y,staticValues:z,layerInfo:this.layerInfo,
operatorInfo:m,filterCodedValueIfPossible:!!p.filterCodedValueIfPossible,runtime:k};"BLANK_VALUE_PROVIDER"===n?d=new q(m):"SIMPLE_VALUE_PROVIDER"===n?d=new r(m):"TWO_NUMBERS_VALUE_PROVIDER"===n?d=new g(m):"TWO_DATES_VALUE_PROVIDER"===n?d=new b(m):"LIST_VALUE_PROVIDER"===n&&(m.showNullValues=!1,d=new t(m))}return d},_getFieldInfo:function(a,b){for(var d=a.fields,k=0;k<d.length;k++){var m=d[k];if(b===m.name)return m}return null},_getCodedValues:function(a){var d=null;(a=a.domain)&&"codedValue"===a.type&&
a.codedValues&&0<a.codedValues.length&&(d=a.codedValues,d=e.map(d,h.hitch(this,function(a){return{value:a.code,label:a.name}})));return d},_getSubTypes:function(a){var d=null;a.typeIdField&&a.types&&0<a.types.length&&(d=e.map(a.types,h.hitch(this,function(a){return{value:a.id,label:a.name}})));return d}});k.getOperatorInfo=function(a){return h.clone(l[a])};k.getOperatorsByShortType=function(a){var d=[];"string"===a?d="stringOperatorIs stringOperatorIsNot stringOperatorStartsWith stringOperatorEndsWith stringOperatorContains stringOperatorDoesNotContain stringOperatorIsBlank stringOperatorIsNotBlank".split(" "):
"number"===a?d="numberOperatorIs numberOperatorIsNot numberOperatorIsAtLeast numberOperatorIsLessThan numberOperatorIsAtMost numberOperatorIsGreaterThan numberOperatorIsBetween numberOperatorIsNotBetween numberOperatorIsBlank numberOperatorIsNotBlank".split(" "):"date"===a&&(d="dateOperatorIsOn dateOperatorIsNotOn dateOperatorIsBefore dateOperatorIsAfter dateOperatorIsBetween dateOperatorIsNotBetween dateOperatorIsBlank dateOperatorIsNotBlank".split(" "));return d};k.getShortTypeByEsriType=function(a){var d=
null;"esriFieldTypeString"===a?d="string":"esriFieldTypeDate"===a?d="date":0<=["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"].indexOf(a)&&(d="number");return d};return k})},"jimu/dijit/_filter/BlankValueProvider":function(){define(["dojo/_base/html","dojo/_base/declare","./ValueProvider"],function(h,e,f){return e([f],{templateString:"\x3cdiv\x3e\x3c/div\x3e",postCreate:function(){this.inherited(arguments);h.addClass(this.domNode,
"jimu-filter-blank-value-provider")},getDijits:function(){return[]},getStatus:function(){return 1},setValueObject:function(){},getValueObject:function(){return{isValid:!0,type:this.partObj.valueObj.type,value:null}},isBlankValueProvider:function(){return!0}})})},"jimu/dijit/_filter/ValueProvider":function(){define("dojo/on dojo/Evented dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin jimu/utils esri/lang".split(" "),function(h,e,f,q,r,g,b,
t,a,l){return g([b,t,e],{baseClass:"jimu-filter-value-provider",fieldName:null,shortType:null,_enabled:!1,cascade:"none",filterCodedValue:!1,nls:null,url:null,layerDefinition:null,fieldInfo:null,partObj:null,runtime:!0,staticValues:null,codedValues:null,layerInfo:null,operatorInfo:null,filterCodedValueIfPossible:!1,postMixInProperties:function(){this.inherited(arguments);this.shortType=this.partObj.fieldObj.shortType;this.fieldName=this.partObj.fieldObj.name;this.cascade=this.partObj.interactiveObj&&
this.partObj.interactiveObj.cascade;this.runtime&&this.codedValues&&this.filterCodedValueIfPossible&&a.isCodedValuesSupportFilter(this.layerDefinition,this.codedValues.length)?this.filterCodedValue=!0:this.filterCodedValue=!1},getDijits:function(){return[]},bindChangeEvents:function(){var a=this.getDijits();r.forEach(a,f.hitch(this,function(a){a.declaredClass&&0===a.declaredClass.indexOf("dijit.")&&q.addClass(a.domNode,a.declaredClass.replace(/\./g,"-"));this.own(h(a,"change",f.hitch(this,this._onChanged)))}))},
_onChanged:function(){this.emit("change")},tryLocaleNumber:function(b){var d=a.localizeNumber(b);if(null===d||void 0===d)d=b;return d},getPartObject:function(){var a=this.getValueObject();if(!a)return null;var b=f.clone(this.partObj);b.valueObj=a;return b},setValueObject:function(){},getValueObject:function(){},tryGetValueObject:function(){return this.getValueObject()},setRequired:function(){},getStatus:function(){var a=1,b=this.getDijits();0<b.length&&(a=r.map(b,f.hitch(this,function(a){return this.getStatusForDijit(a)})),
a=Math.min.apply(a,a));return a},getStatusForDijit:function(a){return a.validate()?a.get("DisplayedValue")?1:0:-1},isInvalidValue:function(){return 0>this.getStatus()},isEmptyValue:function(){return 0===this.getStatus()},isValidValue:function(){return 0<this.getStatus()},isBlankValueProvider:function(){return!1},getFilterExpr:function(){var a="1\x3d1",a=this.getLayerFilterExpr();if("all"===this.cascade||"previous"===this.cascade)var b=this.getCascadeFilterExpr(),a="("+a+") AND ("+b+")";return a},
getLayerFilterExpr:function(){var a="1\x3d1";this.layerInfo&&(a=this.layerInfo.getFilter());a||(a="1\x3d1");return a},getCascadeFilterExpr:function(){return"1\x3d1"},isDefined:function(a){return l.isDefined(a)},disable:function(){this._enabled=!1},enable:function(){this._enabled=!0},isEnabled:function(){return this._enabled}})})},"jimu/dijit/_filter/SimpleValueProvider":function(){define("dojo/_base/html dojo/_base/declare ./ValueProvider dijit/form/ValidationTextBox dijit/form/DateTextBox dijit/form/NumberTextBox".split(" "),
function(h,e,f,q,r,g){return e([f],{templateString:"\x3cdiv\x3e\x3c/div\x3e",_dijit:null,postCreate:function(){this.inherited(arguments);h.addClass(this.domNode,"jimu-filter-simple-value-provider");this._dijit="string"===this.shortType?new q({required:!1,trim:!0}):"number"===this.shortType?new g({required:!1,intermediateChanges:!0,constraints:{pattern:"#####0.##########"}}):new r({required:!1,trim:!0,value:new Date});h.setStyle(this._dijit.domNode,"width","100%");this._dijit.placeAt(this.domNode)},
getDijits:function(){return[this._dijit]},setValueObject:function(b){this.isDefined(b.value)&&("date"===this.shortType?this._dijit.set("value",new Date(b.value)):this._dijit.set("value",b.value))},getValueObject:function(){if(this.isValidValue()){var b=this._dijit.get("value");"date"===this.shortType?b=b.toDateString():"number"===this.shortType&&(b=parseFloat(b));return{isValid:!0,type:this.partObj.valueObj.type,value:b}}return null},tryGetValueObject:function(){return this.isValidValue()?this.getValueObject():
this.isEmptyValue()?{isValid:!0,type:this.partObj.valueObj.type,value:"string"===this.shortType?"":null}:null},setRequired:function(b){this._dijit.set("required",b)}})})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(h,e,f){return h("dijit.form.DateTextBox",f,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:e,_selector:"date",maxHeight:Infinity,value:new Date("")})})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),
function(h,e,f,q,r,g,b,t,a,l,k,d,m,u,w,x,v){var c=q("dijit.Calendar",[m,u,w],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){t.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new c._MonthDropDownButton({id:this.id+"_mddb",
tabIndex:-1,onMonthSelect:l.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,"keydown",l.hitch(this,"_onKeyDown")),k(this.dateRowsNode,"mouseover",l.hitch(this,"_onDayMouseOver")),k(this.dateRowsNode,"mouseout",l.hitch(this,"_onDayMouseOut")),k(this.dateRowsNode,"mousedown",l.hitch(this,"_onDayMouseDown")),k(this.dateRowsNode,"mouseup",l.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var c=
new this.dateClassObj(this.currentFocus);c.setDate(1);c.setMonth(a);a=this.dateModule.getDaysInMonth(c);var b=this.currentFocus.getDate();c.setDate(Math.min(b,a));this._setCurrentFocusAttr(c)},_onDayMouseOver:function(a){(a=g.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!g.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode)&&(g.add(a,"dijitCalendarHoveredDate"),this._currentNode=a)},_onDayMouseOut:function(a){!this._currentNode||
a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode||(a="dijitCalendarHoveredDate",g.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),g.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&!g.contains(a,"dijitCalendarDisabledDate")&&(g.add(a,"dijitCalendarActiveDate"),this._currentNode=a)},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&g.remove(a,"dijitCalendarActiveDate")},
handleKey:function(c){var b=-1,d,p=this.currentFocus;switch(c.keyCode){case a.RIGHT_ARROW:b=1;case a.LEFT_ARROW:d="day";this.isLeftToRight()||(b*=-1);break;case a.DOWN_ARROW:b=1;case a.UP_ARROW:d="week";break;case a.PAGE_DOWN:b=1;case a.PAGE_UP:d=c.ctrlKey||c.altKey?"year":"month";break;case a.END:p=this.dateModule.add(p,"month",1),d="day";case a.HOME:p=new this.dateClassObj(p);p.setDate(1);break;default:return!0}d&&(p=this.dateModule.add(p,d,b));this._setCurrentFocusAttr(p);return!1},_onKeyDown:function(a){this.handleKey(a)||
(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});c._MonthDropDownButton=q("dijit.Calendar._MonthDropDownButton",v,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new c._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var c=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",
c);this.containerNode.innerHTML=(6==d("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+c[a.getMonth()]+"\x3c/div\x3e"}});c._MonthDropDown=q("dijit.Calendar._MonthDropDown",[u,x,w],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML=
"";h.forEach(a,function(a,c){b.create("div",{className:"dijitCalendarMonthLabel",month:c,innerHTML:a},this.domNode)._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(a){this.onChange(r.get(a.target,"month"))},onChange:function(){}});return c})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/dom-attr dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),
function(h,e,f,q,r,g,b,t,a,l,k,d,m,u,w,x){var v=e("dijit.CalendarLite",[u,w],{templateString:x,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',
weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",dayOffset:-1,currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var b=
new this.dateClassObj(a);b.setHours(0,0,0,0);b.getDate()<a.getDate()&&(b=this.dateModule.add(b,"hour",1));return b}return null},_setValueAttr:function(a,b){"string"==typeof a&&(a=g.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){if(a||
0===a)a=new this.dateClassObj(a),a.setHours(1,0,0,0);return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},_populateGrid:function(){var c=new this.dateClassObj(this.currentFocus);c.setDate(1);var c=this._patchDate(c),b=c.getDay(),d=this.dateModule.getDaysInMonth(c),e=this.dateModule.getDaysInMonth(this.dateModule.add(c,"month",-1)),k=new this.dateClassObj,m=0<=this.dayOffset?this.dayOffset:f.getFirstDayOfWeek(this.lang);m>
b&&(m-=7);if(!this.summary){var l=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,c);this.gridNode.setAttribute("summary",l[c.getMonth()])}this._date2cell={};h.forEach(this.dateCells,function(l,p){var n=p+m,g=new this.dateClassObj(c),f="dijitCalendar",h=0;n<b?(n=e-b+n+1,h=-1,f+="Previous"):n>=b+d?(n=n-b-d+1,h=1,f+="Next"):(n=n-b+1,f+="Current");h&&(g=this.dateModule.add(g,"month",h));g.setDate(n);this.dateModule.compare(g,k,"date")||(f="dijitCalendarCurrentDate "+f);this.isDisabledDate(g,
this.lang)?(f="dijitCalendarDisabledDate "+f,l.setAttribute("aria-disabled","true")):(f="dijitCalendarEnabledDate "+f,l.removeAttribute("aria-disabled"),l.setAttribute("aria-selected","false"));(h=this.getClassForDate(g,this.lang))&&(f=h+" "+f);l.className=f+"Month dijitCalendarDateTemplate";f=g.valueOf();this._date2cell[f]=l;l.dijitDateValue=f;f=g.getDateLocalized?g.getDateLocalized(this.lang):g.getDate();this._setText(this.dateLabels[p],f);a.set(l,"aria-label",r.format(g,{selector:"date",formatLength:"long"}))},
this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-1,d=new this.dateClassObj;h.forEach(["previous","current","next"],function(a){d.setFullYear(b++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(a){this.dateModule=a.datePackage?l.getObject(a.datePackage,
!1):q;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?l.getObject(a.datePackage+".locale",!1):r},_createMonthWidget:function(){return v._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,d=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),e=0<=this.dayOffset?this.dayOffset:f.getFirstDayOfWeek(this.lang);this.dayCellsHtml=m.substitute([a,
a,a,a,a,a,a].join(""),{d:""},function(){return d[e++%7]});a=m.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);b.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var a=l.hitch(this,function(a,
c,b){this[a].dojoClick=!0;return k(this[a],"click",l.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,c,b))}))});this.own(a("incrementMonth","month",1),a("decrementMonth","month",-1),a("nextYearLabelNode","year",1),a("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,b){var c=this.currentFocus,e=this._getNodeByDate(c);a=this._patchDate(a);this._set("currentFocus",a);this._date2cell&&0==this.dateModule.difference(c,a,"month")||(this._populateGrid(),
this._populateControls(),this._markSelectedDates([this.value]));c=this._getNodeByDate(a);c.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&c.focus();e&&e!=c&&(d("webkit")?e.setAttribute("tabIndex","-1"):e.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();a.preventDefault();for(a=a.target;a&&!a.dijitDateValue&&0!==a.dijitDateValue;a=a.parentNode);a&&!t.contains(a,"dijitCalendarDisabledDate")&&this.set("value",
a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function c(a,c){t.toggle(c,"dijitCalendarSelectedDate",a);c.setAttribute("aria-selected",a?"true":"false")}h.forEach(this._selectedCells||[],l.partial(c,!1));this._selectedCells=h.filter(h.map(a,this._getNodeByDate,this),function(a){return a});h.forEach(this._selectedCells,l.partial(c,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});
v._MonthWidget=e("dijit.CalendarLite._MonthWidget",u,{_setMonthAttr:function(a){var c=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),b=6==d("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+h.map(c,function(a){return"\x3cdiv\x3e"+a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=b+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+c[a.getMonth()]+"\x3c/div\x3e"}});return v})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),
function(h,e,f,q,r,g,b,t){new Date("X");return q("dijit.form._DateTimeTextBox",[g,b],{templateString:t,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:e.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},compare:function(a,b){var e=this._isInvalidDate(a),d=this._isInvalidDate(b);if(e||d)return e&&d?0:e?-1:1;var e=this.format(a,this._unboundedConstraints),d=this.format(b,this._unboundedConstraints),
m=this.parse(e,this._unboundedConstraints),l=this.parse(d,this._unboundedConstraints);return e==d?0:h.compare(m,l,this._selector)},autoWidth:!0,format:function(a,b){return a?this.dateLocaleModule.format(a,b):""},parse:function(a,b){return this.dateLocaleModule.parse(a,b)||(this._isEmpty(a)?null:void 0)},serialize:function(a,b){a.toGregorian&&(a=a.toGregorian());return f.toISOString(a,b)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(a){a=
a||{};this.dateModule=a.datePackage?r.getObject(a.datePackage,!1):h;this.dateClassObj=this.dateModule.Date||Date;this.dateClassObj instanceof Date||(this.value=new this.dateClassObj(this.value));this.dateLocaleModule=a.datePackage?r.getObject(a.datePackage+".locale",!1):e;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||
(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(a){a.selector=this._selector;a.fullYear=!0;var b=f.fromISOString;"string"==typeof a.min&&(a.min=b(a.min),this.dateClassObj instanceof Date||(a.min=new this.dateClassObj(a.min)));"string"==typeof a.max&&(a.max=b(a.max),this.dateClassObj instanceof Date||(a.max=new this.dateClassObj(a.max)));this.inherited(arguments);this._unboundedConstraints=r.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(a){return!a||
isNaN(a)||"object"!=typeof a||a.toString()==this._invalidDate},_setValueAttr:function(a,b,e){void 0!==a&&("string"==typeof a&&(a=f.fromISOString(a)),this._isInvalidDate(a)&&(a=null),a instanceof Date&&!(this.dateClassObj instanceof Date)&&(a=new this.dateClassObj(a)));this.inherited(arguments,[a,b,e]);this.value instanceof Date&&(this.filterString="");!1!==b&&this.dropDown&&this.dropDown.set("value",a,!1)},_set:function(a,b){if("value"==a){b instanceof Date&&!(this.dateClassObj instanceof Date)&&
(b=new this.dateClassObj(b));var e=this._get("value");if(e instanceof this.dateClassObj&&0==this.compare(b,e))return}this.inherited(arguments)},_setDropDownDefaultValueAttr:function(a){this._isInvalidDate(a)&&(a=new this.dateClassObj);this._set("dropDownDefaultValue",a)},openDropDown:function(a){this.dropDown&&this.dropDown.destroy();var b=r.isString(this.popupClass)?r.getObject(this.popupClass,!1):this.popupClass,e=this,d=this.get("value");this.dropDown=new b({onChange:function(a){e.set("value",
a,!0)},id:this.id+"_popup",dir:e.dir,lang:e.lang,value:d,textDir:e.textDir,currentFocus:this._isInvalidDate(d)?this.dropDownDefaultValue:d,constraints:e.constraints,filterString:e.filterString,datePackage:e.datePackage,isDisabledDate:function(a){return!e.rangeCheck(a,e.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(a,b){this._setValueAttr(this.parse(a,this.constraints),b,a)}})})},"jimu/dijit/_filter/TwoNumbersValueProvider":function(){define("dojo/_base/html dojo/_base/declare ./ValueProvider dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./TwoNumbersValueProvider.html dijit/form/NumberTextBox".split(" "),
function(h,e,f,q,r,g){return e([f,q,r],{templateString:g,postCreate:function(){this.inherited(arguments);h.addClass(this.domNode,"jimu-two-numbers-filter-value-provider")},_onRangeNumberBlur:function(){if(this._dijit1.validate()&&this._dijit2.validate()){var b=parseFloat(this._dijit1.get("value")),e=parseFloat(this._dijit2.get("value"));b>e&&(this._dijit1.set("value",e),this._dijit2.set("value",b))}},getDijits:function(){return[this._dijit1,this._dijit2]},setValueObject:function(b){this.isDefined(b.value1)&&
this._dijit1.set("value",b.value1);this.isDefined(b.value2)&&this._dijit2.set("value",b.value2)},getValueObject:function(){return this.isValidValue()?{isValid:!0,type:this.partObj.valueObj.type,value1:parseFloat(this._dijit1.get("value")),value2:parseFloat(this._dijit2.get("value"))}:null},tryGetValueObject:function(){if(this.isValidValue())return this.getValueObject();if(this.isEmptyValue()){var b={isValid:!0,type:this.partObj.valueObj.type,value1:parseFloat(this._dijit1.get("value")),value2:parseFloat(this._dijit2.get("value"))};
isNaN(b.value1)&&(b.value1=null);isNaN(b.value2)&&(b.value2=null);return b}return null},setRequired:function(b){this._dijit1.set("required",b);this._dijit2.set("required",b)}})})},"jimu/dijit/_filter/TwoDatesValueProvider":function(){define("dojo/_base/html dojo/_base/declare ./ValueProvider dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./TwoDatesValueProvider.html dijit/form/DateTextBox".split(" "),function(h,e,f,q,r,g){return e([f,q,r],{templateString:g,postCreate:function(){this.inherited(arguments);
h.addClass(this.domNode,"jimu-two-dates-filter-value-provider")},_onRangeDateBlur:function(){if(this._dijit1.validate()&&this._dijit2.validate()){var b=this._dijit1.get("value"),e=b.getTime(),a=this._dijit2.get("value"),f=a.getTime();e>f&&(this._dijit1.set("value",a),this._dijit2.set("value",b))}},getDijits:function(){return[this._dijit1,this._dijit2]},setValueObject:function(b){this.isDefined(b.value1)&&this._dijit1.set("value",new Date(b.value1));this.isDefined(b.value2)&&this._dijit2.set("value",
new Date(b.value2))},getValueObject:function(){return this.isValidValue()?{isValid:!0,type:this.partObj.valueObj.type,value1:this._dijit1.get("value").toDateString(),value2:this._dijit2.get("value").toDateString()}:null},setRequired:function(b){this._dijit1.set("required",b);this._dijit2.set("required",b)}})})},"jimu/dijit/_filter/ListValueProvider":function(){define("dojo/aspect dojo/Deferred dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/declare ./ValueProvider dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./ListValueProvider.html dojo/store/Memory jimu/utils dijit/form/FilteringSelect".split(" "),
function(h,e,f,q,r,g,b,t,a,l,k,d){return g([b,t,a],{templateString:l,codedValues:null,staticValues:null,showNullValues:!1,postCreate:function(){this.inherited(arguments);q.addClass(this.domNode,"jimu-filter-list-value-provider");this._uniqueValueCache={};var a=new k({idProperty:"id",data:[]});this.valuesSelect.set("store",a);this.staticValues||"function"!==typeof this.valuesSelect._onDropDownMouseDown||(!this.codedValues||this.codedValues&&this.filterCodedValue)&&this.own(h.before(this.valuesSelect,
"_onDropDownMouseDown",f.hitch(this,this._onBeforeDropDownMouseDown)))},_onFilteringSelectInput:function(){this.emit("change")},_onBeforeDropDownMouseDown:function(){this._tryUpdatingUniqueValues(void 0,!0);return arguments},getDijits:function(){return[this.valuesSelect]},setValueObject:function(a){return this.staticValues?this._setValueForStaticValues(a.value,this.staticValues):this.codedValues?this.filterCodedValue?this._tryUpdatingUniqueValues(a.value,!1):this._setValueForStaticValues(a.value,
this.codedValues):this._tryUpdatingUniqueValues(a.value,!1)},getValueObject:function(){if(this.isValidValue()){var a=this.valuesSelect.get("item").value;return{isValid:!0,type:this.partObj.valueObj.type,value:a}}return null},tryGetValueObject:function(){return this.isValidValue()?this.getValueObject():this.isEmptyValue()?{isValid:!0,type:this.partObj.valueObj.type,value:"string"===this.shortType?"":null}:null},setRequired:function(a){this.valuesSelect.set("required",a)},_setValueForStaticValues:function(a,
b){var d=null,e=-1,d=null;b&&(d=r.map(b,f.hitch(this,function(b,c){var d={id:c,value:b.value,label:b.label};d.value===a&&(e=c);return d})),this.valuesSelect.store.setData(d),0<=e&&(d=this.valuesSelect.store.get(e))&&this.valuesSelect.set("item",d))},_uniqueValueLoadingDef:null,_uniqueValueLoadingExpr:"",_uniqueValueCache:null,_tryUpdatingUniqueValues:function(a,b){var d=new e;if(this.valuesSelect._opened)d.resolve();else{var g=this.getFilterExpr();g!==this._uniqueValueLoadingExpr?(this.valuesSelect.readOnly=
!0,this._uniqueValueLoadingDef&&(this._uniqueValueLoadingDef.reject(),this._uniqueValueLoadingDef=null),this._uniqueValueLoadingExpr=g,this._uniqueValueLoadingDef=this._getUniqueValues(g),this._uniqueValueLoadingDef.then(f.hitch(this,function(e){this.domNode&&(this._uniqueValueLoadingDef=null,this.valuesSelect.readOnly=!1,this._setValueForUniqueValues(a,e),this._hideLoadingIcon(),b&&this.valuesSelect.toggleDropDown(),d.resolve())}),f.hitch(this,function(a){console.error(a);this.domNode&&(this._uniqueValueLoadingDef=
null,this.valuesSelect.readOnly=!1,this._hideLoadingIcon(),d.reject(a))}))):d.resolve()}return d},_setValueForUniqueValues:function(a,b){b.sort(function(a,b){return a.value<b.value?-1:a.value===b.value?0:1});this.showNullValues||(b=r.filter(b,f.hitch(this,function(a){return"\x3cNull\x3e"!==a.value&&null!==a.value})));if(void 0===a){var d=this.getValueObject();d&&(a=d.value)}var e=-1,d=null,g=r.map(b,f.hitch(this,function(b,d){var c={id:d,value:b.value,label:b.label};b.value===a&&(e=d);return c}));
this.valuesSelect.store.setData(g);0<=e&&(d=this.valuesSelect.store.get(e));this.valuesSelect.set("item",d)},_showLoadingIcon:function(){q.addClass(this.valuesSelect.domNode,"loading")},_hideLoadingIcon:function(){q.removeClass(this.valuesSelect.domNode,"loading")},_getUniqueValues:function(a){var b=new e;this._uniqueValueCache[a]?b.resolve(this._uniqueValueCache[a]):(this._showLoadingIcon(),d.getUniqueValues(this.url,this.fieldName,a,this.layerDefinition).then(f.hitch(this,function(d){this.domNode&&
(this._uniqueValueCache[a]=d,b.resolve(d),this._hideLoadingIcon())}),f.hitch(this,function(a){this.domNode&&(b.reject(a),this._hideLoadingIcon())})));return b}})})},"widgets/Stream/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/Stream/StreamControl.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"jimu-widget-title" data-dojo-attach-point\x3d"controlLabelSection"\x3e\r\n    ${nls.streamControls}\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"controlButton stop" data-dojo-attach-point\x3d"startBtn"\x3e\r\n    \x3cdiv class\x3d"jimu-float-leading jimu-leading-margin1 runningIcon"\x3e\x3c/div\x3e\r\n    \x3clabel class\x3d"jimu-widget-normal jimu-leading-margin1 btnLabel"\r\n           data-dojo-attach-point\x3d"startBtnLabel"\x3e${nls.stopStreaming}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"controlButton" data-dojo-attach-point\x3d"clearBtn"\x3e\r\n    \x3cdiv class\x3d"jimu-float-leading jimu-leading-margin1 clearIcon"\x3e\x3c/div\x3e\r\n    \x3clabel class\x3d"jimu-widget-normal jimu-leading-margin1 btnLabel"\x3e${nls.clearObservation}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"drawPreviousSection" class\x3d"drawControl"\x3e\r\n    \x3clabel class\x3d"jimu-widget-normal btnLabel"\x3e${nls.previousObservations}\x26nbsp;\x3c/label\x3e\r\n    \x3cinput data-dojo-type\x3d"dijit/form/NumberSpinner" style\x3d"height:32px;width:30%;float:right;"\r\n           data-dojo-props\x3d"smallDelta:1, intermediateChanges:true, constraints:{min:1,max:100,places:0}"\r\n           data-dojo-attach-point\x3d"previousSpinner"\r\n    /\x3e\r\n    \x3cdiv style\x3d"clear:both"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"jimu-widget-title filterLabel"\r\n      data-dojo-attach-point\x3d"filterLabelSection"\x3e\r\n    ${nls.streamFilter}\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"spatialFilterControl" class\x3d"filterControl"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"spatialFilterToggleDiv"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"spatialFilterSection" class\x3d"filterControl" style\x3d"display:none"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"attrFilterControl" class\x3d"filterControl"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"attrFilterToggleDiv"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"attrFilterSection" class\x3d"filterControl" style\x3d"display:none"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Stream/FilterItem.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"controlSection"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"filterSection" style\x3d"display:none"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"attrFilterParams"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-btn" data-dojo-attach-point\x3d"applyAttrFilterBtn"\x3e\r\n      ${nls.applyAttrFilter}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',"url:jimu/dijit/templates/_SingleFilterParameter.html":'\x3cdiv\x3e\r\n  \x3ctable style\x3d"width:100%;"\x3e\r\n    \x3ctbody\x3e\r\n      \x3ctr class\x3d"first-tr"\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"prompt" data-dojo-attach-point\x3d"promptNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr class\x3d"second-tr"\x3e\r\n        \x3ctd data-dojo-attach-point\x3d"valueProviderTd"\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr class\x3d"third-tr"\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"hint" data-dojo-attach-point\x3d"hintNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n    \x3c/tbody\x3e\r\n  \x3c/table\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/Calendar.html":'\x3cdiv class\x3d"dijitCalendarContainer dijitInline" role\x3d"presentation" aria-labelledby\x3d"${id}_mddb ${id}_year"\x3e\r\n\t\x3cdiv class\x3d"dijitReset dijitCalendarMonthContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarDecrementArrow\' data-dojo-attach-point\x3d"decrementMonth"\x3e\r\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"/\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarIncrementArrow\' data-dojo-attach-point\x3d"incrementMonth"\x3e\r\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"/\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode" class\x3d"dijitInline"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"grid" data-dojo-attach-point\x3d"gridNode"\x3e\r\n\t\t\x3cthead\x3e\r\n\t\t\t\x3ctr role\x3d"row"\x3e\r\n\t\t\t\t${!dayCellsHtml}\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/thead\x3e\r\n\t\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\r\n\t\t\t\t${!dateRowsHtml}\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\t\x3cdiv class\x3d"dijitReset dijitCalendarYearContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/_filter/TwoNumbersValueProvider.html":'\x3cdiv\x3e\r\n\t\x3ctable data-dojo-attach-point\x3d"numberRangeTable" style\x3d"width:100%;border-collapse:collapse;" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd style\x3d"width:40%;"\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"_dijit1" data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-attach-event\x3d"blur:_onRangeNumberBlur" data-dojo-props\x3d\'"required":false,intermediateChanges:true,constraints: {pattern: "#####0.##########"}\' style\x3d"width:100%;" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd style\x3d"width:20%;text-align:center;"\x3e\r\n\t\t\t\t\t\x3cspan\x3e${nls.and}\x3c/span\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd style\x3d"width:40%;"\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"_dijit2" data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-attach-event\x3d"blur:_onRangeNumberBlur" data-dojo-props\x3d\'"required":false,intermediateChanges:true,constraints: {pattern: "#####0.##########"}\' style\x3d"width:100%;" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/_filter/TwoDatesValueProvider.html":'\x3cdiv\x3e\r\n\t\x3ctable data-dojo-attach-point\x3d"dateRangeTable" style\x3d"width:100%;border-collapse:collapse;" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd style\x3d"width:40%;"\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"_dijit1" data-dojo-type\x3d"dijit/form/DateTextBox" data-dojo-attach-event\x3d"change:_onRangeDateBlur" data-dojo-props\x3d\'value:new Date(),required:false,trim:true\' style\x3d"width:100%;" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd style\x3d"width:20%;text-align:center;"\x3e\r\n\t\t\t\t\t\x3cspan\x3e${nls.and}\x3c/span\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"_dijit2" data-dojo-type\x3d"dijit/form/DateTextBox" data-dojo-attach-event\x3d"change:_onRangeDateBlur" data-dojo-props\x3d\'value:new Date(),required:false,trim:true\' style\x3d"width:100%;" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/_filter/ListValueProvider.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"valuesSelect" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-props\x3d\'searchAttr:"label",required:false,intermediateChanges:true\' style\x3d"width:100%;" data-dojo-attach-event\x3d"input:_onFilteringSelectInput"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',"url:widgets/Stream/Widget.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"errorTipPanel" class\x3d"jimu-widget" style\x3d"display:none"\x3e\r\n    ${nls.noStreamLayer}\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"selectionPanel"\x3e\r\n    \x3cdiv\x3e\r\n      \x3clabel class\x3d"jimu-widget-title"\x3e${nls.selectStreamLayer}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"layerSelect"\x3e\r\n      \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"streamSelect"\r\n              style\x3d"width:100%; height:32px"\x3e\x3c/select\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"settingPanel"\x3e\r\n\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"shelter" data-dojo-type\x3d"jimu/dijit/LoadingShelter"\r\n       data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Stream/css/style.css":".jimu-widget-stream{}.jimu-widget-stream .layerSelect{margin: 12px 0;}.jimu-widget-stream .controllerLabel{font-size: 1.2em; color: #838383; font-weight: normal; cursor: pointer;}.jimu-widget-stream .filterOption{margin-left: 20px; margin-top: 10px; margin-bottom: 5px;}.jimu-widget-stream .jimu-widget-stream-filterItem{margin-left: 20px; margin-top: 10px; margin-bottom: 5px;}.jimu-widget-stream .controlButton{width: 100%; height: 32px; margin-top: 12px; background-color: #FFFFFF; border: solid 1px #D7D7D7; cursor: pointer;}.jimu-widget-stream .controlButton:hover{background-color: #EAEAEA;}.jimu-widget-stream .drawControl{margin-top: 12px; width: 100%;}.jimu-widget-stream .filterLabel{margin-top: 12px;}.jimu-widget-stream .filterControl{margin: 12px 0; width: 100%;}.jimu-widget-stream .btnLabel{line-height: 32px; cursor: pointer;}.jimu-widget-stream .drawControl .btnLabel{line-height: 40px;}.jimu-widget-stream .controlButton .runningIcon{width: 14px; height: 14px; margin-top: 7px; background: transparent url(images/play_normal.png) center top no-repeat;}.jimu-widget-stream .controlButton:hover .runningIcon{background: url(images/play_over.png);}.jimu-widget-stream .controlButton.stop .runningIcon{width: 14px; height: 14px; margin-top: 7px; background: transparent url(images/stop_normal.png) center top no-repeat;}.jimu-widget-stream .controlButton.stop:hover .runningIcon{background: url(images/stop_over.png);}.jimu-widget-stream .controlButton .clearIcon{width: 14px; height: 14px; margin-top: 7px; background: transparent url(images/clear_normal.png) center top no-repeat;}.jimu-widget-stream .controlButton:hover .clearIcon{background: url(images/clear_over.png);}.jimu-widget-stream .jimu-checkbox .label{font-size: 12px;}",
"*now":function(h){h(['dojo/i18n!*preload*widgets/Stream/nls/Widget*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-style dijit/_WidgetsInTemplateMixin jimu/BaseWidget jimu/dijit/ViewStack ./StreamControl dijit/form/Select jimu/dijit/LoadingShelter".split(" "),function(h,e,f,q,r,g,b,t,a){return h([b,g],{baseClass:"jimu-widget-stream",streamControls:[],postCreate:function(){this.inherited(arguments);var b,g,d=[],h=[];this.config.streamLayers&&0<this.config.streamLayers.length&&f.forEach(this.config.streamLayers,function(e,f){if(g=this.map.getLayer(e.layerId))b=
new a({nls:this.nls,id:this.id+"_"+e.layerId,map:this.map,config:e,streamLayer:this.map.getLayer(e.layerId)}),h.push(b),d.push({label:e.layerName,value:f})},this);0===h.length?(r.set(this.errorTipPanel,"display",""),r.set(this.selectionPanel,"display","none")):(this.viewStack=new t({nodeType:1,views:h}),this.viewStack.placeAt(this.settingPanel),this.streamSelect.addOption(d),this.streamSelect.set("value",0),this.own(q(this.streamSelect,"change",e.hitch(this,function(a){this.viewStack.switchView(a)}))))}})});